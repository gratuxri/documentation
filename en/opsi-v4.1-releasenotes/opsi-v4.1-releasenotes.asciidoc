////
; Copyright (c) uib gmbh (www.uib.de)
; This documentation is owned by uib
; and published under the german creative commons by-sa license
; see:
; http://creativecommons.org/licenses/by-sa/3.0/de/
; http://creativecommons.org/licenses/by-sa/3.0/de/legalcode
; english:
; http://creativecommons.org/licenses/by-sa/3.0/
; http://creativecommons.org/licenses/by-sa/3.0/legalcode
;
; credits: http://www.opsi.org/credits/
////

:Author:    uib gmbh
:Email:     info@uib.de
:Revision:  4.1
:doctype:   book

// Include common opsi terms
include::../common/opsi_terms.asciidoc[]

[[opsi-4.1-releasenotes]]
= opsi Version 4.1 Release Notes

// Include common opsi copyright
include::../common/opsi_manual_copyright.asciidoc[]

[[opsi-4.1-releasenotes-overview]]
== Overview of the new features

*Main aspects of this release are:*

* New tftpd: `opsi-tftp-hpa`
* New tool: `opsi-package-updater`
* Path to the workbench can now be configured
* `opsi-makeproductfile` has been renamed to `opsi-makepackage`
* `opsi-depotserver` has been renamed to `opsi-server`
* Changed defaults
* Python version 2.7 required
* systemd as the sole supported init system

[[opsi-4.1-releasenotes-important]]
== Important considerations - Please pay attention

opsi 4.1 is an independent release and thus has it's own package repositories.
These must be added into the system you want to update before installation.

For an update from opsi 4.0 the packages need to be the latest version available on the stable repositories.
Other packages - such as MySQL server - should also be up-to-date.
Otherwise problems are to be expected during the update.

It is also recommended that 'opsi-winst', 'opsi-client-agent' and 'opsi-linux-client-agent' are brought up-to-date on the clients before updating.


[[opsi-4.1-releasenotes-installation]]
== Installation notice

For your own safety, we strongly suggest to create a backup of your backends with +
{opsi-backup} before updating:
[source,prompt]
----
opsi-backup create
----

The products contained in this release depend on each other in many cases. +
Do not try to install just parts of this update.

We recommend to first update the server, and then update the opsi products.

To make sure that permissions are applied correctly +
we recommend to run ``opsi-setup --set-rights`` after the installation. +
Please be aware that the execution of latter can take several minutes.


[[opsi-4.1-releasenotes-installation-systempackages]]
=== Advice for Updating the operating system packages

Please make sure that at the time of the update you are using the latest packages from opsi 4.0 from the stable branch.

Due to the fact that this update also brings changes to the data structure on the backend
it is required to first migrate the backends after the update.

[source,prompt]
----
# If you are using the MySQL backend for data storage
opsi-setup --update-mysql
# If using you are the file backend for data storage
opsi-setup --update-file
----

As part of this release *opsi-depotserver* has been renamed to *opsi-server*.


For Debian-based machines there is a package for transition.
If you want to remove this package after the installation you first have to mark `opsi-server` as manually installed and then remove the transitional package.

This can be done through the following steps:

[source,prompt]
----
apt-get install opsi-server
apt-get remove opsi-depotserver
----


[[opsi-4.1-releasenotes-installation-migration]]
=== Migration of an opsi 4.0 server

It is possible to migrate an existing opsi 4.0 installation to opsi 4.1 on supported operating systems.

First the opsi 4.1 package repositories have to be added to the systems package manager.
Consult the 'Getting Started' document for the necessary steps.

The 'opsi-tftpd-hpa' package replaces the 'opsi-atftpd' package.
Hereby the tftpd line from '/etc/inetd.conf' or '/etc/default/atftpd' needs to be deleted and the inetd service stopped.


Debian bases systems are updated to opsi 4.1 with the following steps:
[source,prompt]
----
update-inetd --remove tftp
apt install opsi-tftpd-hpa
apt upgrade
apt install opsi-server
----

RedHat and CentOS systems need these steps to upgrade to opsi 4.1:
[source,prompt]
----
yum makecache
yum install opsi-server
----

To migrate SLES and OpenSUSE please perform the following:
[source,prompt]
----
zypper dup --from home_uibmz_opsi_4.1_stable
----

On UCS you can update with the following command:
[source,prompt]
----
univention-upgrade
----

Now the backends must be updated, the current configuration applied and the services restarted.

[source,prompt]
----
# If you are using the MySQL backend for data storage
opsi-setup --update-mysql
# If using you are the file backend for data storage
opsi-setup --update-file
opsi-setup --init-current-config
service opsiconfd restart
service opsipxeconfd restart
----

After these steps your opsi 4.1 server is ready to continue.


[[opsi-4.1-releasenotes-installation-opsipackages]]
=== Notes for updating opsi-packages

opsi-packages are usually compatible to opsi 4.0 and opsi 4.1.

opsi 3 packages are not compatible since support for them has been removed.


[[opsi-4.1-releasenotes-packages]]
== List of packages

.Server packages:
* opsi4ucs 4.1.1.4-9
* opsiconfd 4.1.1.10-1
* opsipxeconfd 4.1.1.4-2
* opsi-linux-bootimage 20171114-1
* opsi-server 4.1.1.4-5
* opsi-utils 4.1.1.14-1
* opsi-utils-deprecated 4.0.7.17-1
// * opsi-configed 4.1.x
* python-opsi 4.1.1.20-1

// .opsi packages (Windows):
// * opsi-client-agent 4.1.x
// * opsi-configed
// * opsi-winst
// * opsi-winst-test
// * jedit
// * TBD

.opsi packages (Linux):
* l-opsi-server 4.1.0.1-7
* l-opsi-server-migrate 4.1.1-2


[[opsi-4.1-releasenotes-knownbugs]]
== Known Bugs / Known Problems

.KNOWN BUGS:

None

.KNOWN PROBLEMS:

None

[[opsi-4.1-releasenotes-eol]]
== Discontinuation

This chapters lists discontinuations.


[[opsi-4.1-releasenotes-eol-opsi3]]
=== Discontinued: Support for opsi 3

With opsi 4.1 support for opsi 3 is discontinued.
This affects packages whose *control*-file still makes use of the opsi 3 syntax.

In addition some methods originating from opsi 3 that have never been ported to opsi 4 have been removed from the backend extension `20_legacy.conf`.
These methods could be spotted in opsi 4.0 because calling them would result in a _NotImplementedError_.

Affected methods can be taken from the changelog of python-opsi.


[[opsi-4.1-releasenotes-eol_server]]
=== Discontinuated: Distributions for opsi-server

These distributions will not be supported anymore for different reasons.

* CentOS 6.x
* Debian 7.x
* RedHat Enterprise Linux 6.x
* Suse Linux Enterprise Server 11
* Univention Corporate Server 3.x
* Univention Corporate Server 4.1

Also see separate chapter: <<opsi-4.1-releasenotes-supportmatrix>>.


// [[opsi-4.1-releasenotes-eol_winclient]]
// === Discontinued Clients: Windows Versions

// With opsi v4.1 the netboot packages

// * TBD

// will not be maintained anymore.
// We also plan on discontinue the support for those Windows version from the update subscriptions.
// If you have any questions or problems regarding this please get in contact with us.

// See also separate chapter: <<opsi-4.1-releasenotes-netboot-windows>>.


// [[opsi-4.1-releasenotes-eol_linclient]]
// === Discontinued Clients: Linux Versions

// With opsi v4.1 the netboot products

// * TBD

// will not be maintained anymore.
// If you have any questions or problems regarding this please get in contact with us.


[[opsi-4.1-releasenotes-supportmatrix]]
== opsi Support Matrix

An overview of the supported platforms for opsi 4.1 servers.

include::../common/opsi_manual_supportmatrix.asciidoc[]

If you are using an OS version which is not contained in the section above,
we recommend updating the OS before installing opsi v4.1.


[[opsi-releasenotes-4.1-changes-opsi-package-updater]]
== New tool 'opsi-package-updater'

In opsi 4.1 the tool `opsi-product-updater` that is known from previous versions will be replaced by `opsi-package-updater`.

The tasks of the tools are the same but the command line parameters changed and new options are now available.

The new tool opens the possibility to see the packages that will be updated before doing so or before installing any new packages.

An extended description of the new tool can be found in the manual.


[[opsi-releasenotes-4.1-changes-opsi-package-updater-quickstart]]
=== Quick introduction 'opsi-package-updater'

To show available updates use the following command:
[source,prompt]
----
opsi-package-updater list --updatable-products
----

To update the packages 'firefox' and 'javavm' use the following command:
[source,prompt]
----
opsi-package-updater -vv update firefox javavm
----

To update all available packages without any visible information use the following command:
[source,prompt]
----
opsi-package-updater update
----

To get an overview of all the packages available in the different repositories use the following command:
[source,prompt]
----
opsi-package-updater list --products
----

To install the package 'ubuntu' from the repository 'uib_linux' use the following command:
[source,prompt]
----
opsi-package-updater -vv --repo uib_linux install ubuntu
----


[[opsi-releasenotes-4.1-changes-opsi-package-updater-configfile]]
=== Using configuration of 'opsi-product-updater'

The configuration files of  `opsi-package-updater` and `opsi-product-updater` are nearly identical.
But only 'opsi-package-updater' understands new options.

It is possible to re-use a configuration created for `opsi-product-updater`.

For this call `opsi-package-updater` with the additional option `--config /etc/opsi/opsi-product-updater.conf`.


[[opsi-releasenotes-4.1-changes-opsi-makepackage]]
== New tool 'opsi-makepackage'

In opsi 4.1 the tool `opsi-makeproductfile` will be replaced through `opsi-makepackage`.

The name change makes the difference between a product and a package more clear.
The previously known command line parameters can still be used.

`opsi-makepackage` will create files containing checksums automatically when creating a package.
The switches `--no-md5` and `--no-zsync` respectively allow to disable this behavior.


[[opsi-releasenotes-4.1-changes-workbench]]
== New workbench path

The workbench directory will be placed at `/var/lib/opsi/workbench` per default during installation.
This brings a consistent directory structure across different systems and simplify the backup of whole opsi installations.

The depot attribute `workbenchLocalUrl` can be changed to adjust the used path.

Updating an existing installation will set this attribute to `/home/opsiproducts` for existing depots.
On SUSE-based systems `/var/lib/opsi/workbench` will be set.
Installations using a mix of different operating systems may need a manual adjustment after the update.

There will be no automatic move of existing directory contents from old to new workbench directory.


[[opsi-releasenotes-4.1-changes-changed-defaults]]
== Changed Defaults

With opsi 4.1 some default settings have been changed to reflect experiences from opsi operations.

This is important if in an already existing environment new opsi servers are to be installed because this may lead to a change in expected behaviour.

* For opsiconfd the setting of `update ip` is `yes` by default.
* In the file 'dispatch.conf' the usage of the mysql backend for keeping the inventory is the new default.


[[opsi-releasenotes-4.1-changes-python-27]]
== Python 2.7 as requirement

The use of Python 2.7 is required.
Older versions are not supported anymore.


[[opsi-releasenotes-4.1-changes-systemd]]
== systemd as init-system

opsi 4.1 will support only systemd as init-system.
Other init-systems will not be officially supported anymore.

[[opsi-releasenotes-4.1-changes-tftpd-hpa]]
== opsi-tftpd-hpa is the new tftpd daemon

opsi 4.1 now uses the opsi-tftpd-hpa. This tftpd daemon support `named pipes`, just as opsi-atftpd. In addition the opsi-tftpd-hpa allows to transfer larger files than 90 MiB.

[[opsi-releasenotes-4.1-changes-http-headers]]
== HTTP header 'content-type'

Communicating with an opsi 4.0 webservice leads to a HTTP header _content-type_ that does not match the used content encoding.
With opsi 4.0 a https://www.ietf.org/rfc/rfc2616.txt[RFC 2616] compatible behavior is the default.
This behaviour has been optional in opsi 4.0.


// [[opsi-4.1-releasenotes-opsi-configed]]
// == Improvements for '{opsi-configed}'

// TBD


[[opsi-4.1-releasenotes-linux]]
== Linux Support

=== Support Matrix

include::../common/opsi_manual_supportmatrix-linclient.asciidoc[]

[[opsi-4.1-releasenotes-netboot-windows]]
== opsi Support Matrix Windows Clients

In the following graphic you will find on which Windows platforms opsi can be run as client.

include::../common/opsi_manual_supportmatrix-winclient.asciidoc[]

[[opsi-4.1-releasenotes-python-opsi]]
== Changes in python-opsi

=== Discontinuation of versions file

The file `/etc/opsi/version` will not be used anymore.

If Python is used then `OPSI.__version__` has the used version.
This can also be used to check for opsi 4.1 with the following command:

[source,prompt]
----
$ python -c "from OPSI import __version__ as v; print(v)"
----

If opsi 4.0 is used the exit code will be `1`. If opsi 4.1 is used the exit code will be `0`.

Furthermode the backend method 'backend_info' will return the version of the used Python library.

[source,prompt]
----
$ opsi-admin -d method backend_info | grep opsiVersion
"opsiVersion" : "4.1.1.6",
----


[[opsi-4.1-releasenotes-misc]]
== Miscellaneous

* `opsi-makeproductfile` becomes `opsi-makepackage`.

* `opsi-makepackage` will automatically create .md5 and .zsync-files during the creation of a new package. This can be suppressed through `--no-md5` and `--no-zsync` respectively.

* `opsi-newprod` will create empty files based on the filenames for the different actions as empty files.


[[opsi-4.1-releasenotes-misc-changelogs]]
== Changelogs


[[opsi-4.1-releasenotes-misc-changelogs-l-opsi-server]]
=== Changelog l-opsi-server

l-opsi-server (4.1.0.1-7); stable; urgency=low

  * UCS installation order: standard tools, UCS specials, roles specific installation, tools provided by us.

 - Niko Wenselowski <n.wenselowski@uib.de> Mon, 13 Nov 2017 12:24:00 +0100

l-opsi-server (4.1.0.1-6); stable; urgency=low

  * UCS additions

 -- Mathias Radtke <m.radtke@uib.de> Wed, 09 Nov 2017 12:43:00 +0100

l-opsi-server 4.1.0.1-5; stable; urgency=low

  * opsi-tftpd-hpa is now opsi-tftpd

--Mathias Radtke <m.radtke@uib.de> Mon, 02 Oct 2017 09:55:00 +0200

l-opsi-server 4.1.0.1-4; stable; urgency=low

  * removed digitec-opsi-listener from UCS dependencies
  * Removed debian6 compatability
  * added OpenSUSE Leap42.3 compatability
  * SLES12 SP3 compatability added

-- Mathias Radtke <m.radtke@uib.de> Wed, 13 Sep 2017 07:55:00 +0200

l-opsi-server 4.1.0.1-3; stable; urgency=low

  * corrected RPM based repo file access

-- Mathias Radtke <m.radtke@uib.de> Fri, 21 Jul 2017 13:53:00 +0200

l-opsi-server 4.1.0.1-2; stable; urgency=low

  * new property: ucs_master_admin_password

 -- Mathias Radtke <m.radtke@uib.de> Tue, 11 Jul 2017 09:00 +0200

l-opsi-server 4.1.0.1-1; stable; urgency=low

  * replaced opsi-atftpd with tftpd-hpa


[[opsi-4.1-releasenotes-misc-changelogs-l-opsi-server-migrate]]
=== Changelog l-opsi-server-migrate

l-opsi-server-migrate 4.1.1-2; stable: urgency=low

  * Automatic backend migration on systems that require it.

 -- Niko Wenselowski <n.wenselowski@uib.de> Tue 16 Nov 2017 11:16:37 +0100

l-opsi-server-migrate 4.1.1-1; stable: urgency=low

  * Cleaned up migration script.

 -- Niko Wenselowski <n.wenselowski@uib.de> Tue 16 Nov 2017 11:16:37 +0100


[[opsi-4.1-releasenotes-misc-changelogs-opsi4ucs]]
=== Changelog opsi4ucs

opsi4ucs (4.1.1.4-6) testing; urgency=medium

  * Automatic backend update for installations coming from versions
    lower than opsi 4.1.

 -- Niko Wenselowski <n.wenselowski@uib.de>  Mon, 13 Nov 2017 10:03:15 +0100

opsi4ucs (4.1.1.4-5) experimental; urgency=medium

  * Join-script: removed tftpd configuarion
  * Join-script: removed opsi-linux-bootimage linking

 -- Mathias Radtke <m.radtke@uib.de>  Wed, 08 Nov 2017 09:10:16 +0100

opsi4ucs (4.1.1.4-4) testing; urgency=medium

  * Join-script: automatically creating /etc/opsi/opsiconfd.pem.

 -- Niko Wenselowski <n.wenselowski@uib.de>  Tue, 07 Nov 2017 15:39:00 +0100

opsi4ucs (4.1.1.4-3) testing; urgency=medium

  * Join-script: making use of the "service" command.

 -- Niko Wenselowski <n.wenselowski@uib.de>  Tue, 07 Nov 2017 13:47:02 +0100

opsi4ucs (4.1.1.4-2) testing; urgency=medium

  * Join-script: small output change.

 -- Niko Wenselowski <n.wenselowski@uib.de>  Tue, 07 Nov 2017 13:18:04 +0100

opsi4ucs (4.1.1.4-1) testing; urgency=medium

  * Added missing import in opsi-setup.

 -- Niko Wenselowski <n.wenselowski@uib.de>  Tue, 07 Nov 2017 12:04:48 +0100

opsi4ucs (4.1.1.3-6) testing; urgency=medium

  * Join-script: Correct check if mysql is already setup.

 -- Niko Wenselowski <n.wenselowski@uib.de>  Tue, 07 Nov 2017 11:58:42 +0100

opsi4ucs (4.1.1.3-5) testing; urgency=medium

  * Join-script: first check for mysql configuration in dispatch.conf and
    then for possibility to automatic configuration.

 -- Niko Wenselowski <n.wenselowski@uib.de>  Tue, 07 Nov 2017 10:51:25 +0100

opsi4ucs (4.1.1.3-4) testing; urgency=medium

  * Join-Script attempts to auto-configure mysql during setup.

 -- Niko Wenselowski <n.wenselowski@uib.de>  Tue, 07 Nov 2017 10:22:47 +0100

opsi4ucs (4.1.1.3-3) testing; urgency=medium

  * based on 4.0.7.5-8.

 -- Niko Wenselowski <n.wenselowski@uib.de>  Mon, 06 Nov 2017 11:36:22 +0100

opsi4ucs (4.1.1.3-2) testing; urgency=medium

  * Locating opsi_workbench at /var/lib/opsi/workbench.

 -- Niko Wenselowski <n.wenselowski@uib.de>  Fri, 21 Jul 2017 10:23:20 +0200

opsi4ucs (4.1.1.3-1) testing; urgency=medium

  * Fix problem with depot registration.

 -- Niko Wenselowski <n.wenselowski@uib.de>  Fri, 21 Jul 2017 10:08:09 +0200

opsi4ucs (4.1.1.2-1) testing; urgency=medium

  * Depending on opsi 4.1 packages.
  * Many internal refactorings to re-use functionality present in python-opsi.
  * Using new method for updating the file backend for opsi 4.1.
  * Server setup does take the new workbench attributes into account.

 -- Niko Wenselowski <n.wenselowski@uib.de>  Fri, 30 Jun 2017 16:34:06 +0200

opsi4ucs (4.1.1.1-2) testing; urgency=medium

  * Merged changes from opsi4ucs 4.0.7.4.

 -- Niko Wenselowski <n.wenselowski@uib.de>  Thu, 22 Jun 2017 16:49:13 +0200

opsi4ucs (4.1.1.1-1) stable; urgency=medium

  * Remove references to obsolete LDAP support.
    This removes support for --update-ldap and --update-univention.

 -- Niko Wenselowski <n.wenselowski@uib.de>  Tue, 24 Jan 2017 18:57:38 +0100


[[opsi-4.1-releasenotes-misc-changelogs-opsiconfd]]
=== Changelog opsiconfd

opsiconfd (4.1.1.10-1) stable; urgency=medium

  * Based source on 4.0.7.14.

 -- Niko Wenselowski <n.wenselowski@uib.de>  Fri, 03 Nov 2017 12:30:05 +0100

opsiconfd (4.1.1.9-1) stable; urgency=medium

  * postinst: The generated cert now uses 2048 bits.
  * Based source on 4.0.7.13.

 -- Niko Wenselowski <n.wenselowski@uib.de>  Mon, 31 Jul 2017 12:48:57 +0200

opsiconfd (4.1.1.8-1) stable; urgency=medium

  * Basing source on opsiconfd 4.0.7.10-1.

 -- Niko Wenselowski <n.wenselowski@uib.de>  Wed, 12 Jul 2017 15:24:52 +0200

opsiconfd (4.1.1.7-1) testing; urgency=medium

  * Removed obsolete configed.gif reference from JNLP template.

 -- Niko Wenselowski <n.wenselowski@uib.de>  Fri, 30 Jun 2017 16:56:08 +0200

opsiconfd (4.1.1.6-1) testing; urgency=medium

  * Removed unnecessary shebangs.
  * Removed socket for interprocess communication.
  * Small refactoring to the update of a client ip address.
  * Internal refactorings.

 -- Niko Wenselowski <n.wenselowski@uib.de>  Wed, 21 Jun 2017 16:25:16 +0200

opsiconfd (4.1.1.5-13) testing; urgency=medium

  * Removed obsolete logrotate configuration fix.
  * Debian-based distros: drop build requirement python-support.

 -- Niko Wenselowski <n.wenselowski@uib.de>  Fri, 19 May 2017 11:53:50 +0200

opsiconfd (4.1.1.5-12) testing; urgency=medium

  * RPM: fix call to possibly undefined name.
  * RPM: drop a distribution-based switch.

 -- Niko Wenselowski <n.wenselowski@uib.de>  Thu, 18 May 2017 16:11:53 +0200

opsiconfd (4.1.1.5-11) testing; urgency=medium

  * Debian-based distros: depend on systemd.
  * Debian-based distros: no more calls to update-rc.d.
  * opsiconfd.service: execute mkdir with -p.

 -- Niko Wenselowski <n.wenselowski@uib.de>  Thu, 18 May 2017 14:27:28 +0200

opsiconfd (4.1.1.5-10) testing; urgency=medium

  * RPM: No pre-macro for systemd under CentOS / RHEL.

 -- Niko Wenselowski <n.wenselowski@uib.de>  Thu, 18 May 2017 13:24:38 +0200

opsiconfd (4.1.1.5-9) testing; urgency=medium

  * RPM: Add switch to systemd macros because not every RPM distribution
    is the same.

 -- Niko Wenselowski <n.wenselowski@uib.de>  Thu, 18 May 2017 12:17:27 +0200

opsiconfd (4.1.1.5-8) testing; urgency=medium

  * RPM: Fix call to macro in %pre.

 -- Niko Wenselowski <n.wenselowski@uib.de>  Thu, 18 May 2017 09:55:46 +0200

opsiconfd (4.1.1.5-7) testing; urgency=medium

  * RPM: listing opsiconfd.service as normal file.

 -- Niko Wenselowski <n.wenselowski@uib.de>  Thu, 18 May 2017 09:40:50 +0200

opsiconfd (4.1.1.5-6) testing; urgency=medium

  * RPM: do not mark opsiconfd.service as a config.
  * RPM: added %pre section for better service integration.
  * opsiconfd.info: Dropped shebang line.
  * Added dependency to logrotate.

 -- Niko Wenselowski <n.wenselowski@uib.de>  Thu, 18 May 2017 09:30:33 +0200

opsiconfd (4.1.1.5-5) testing; urgency=medium

  * RPM: Removed call to old macro.
  * RPM: Fixed syntax-error in postun
  * RPM: Removed manual service removal.
  * RPM: Cleanup of duplicate actions.
  * RPM: rely on systemctl for service actions.

 -- Niko Wenselowski <n.wenselowski@uib.de>  Wed, 17 May 2017 17:31:35 +0200

opsiconfd (4.1.1.5-4) testing; urgency=medium

  * RPM: Removed obosolete references to insserv and chkconfig.

 -- Niko Wenselowski <n.wenselowski@uib.de>  Wed, 17 May 2017 17:18:09 +0200

opsiconfd (4.1.1.5-3) testing; urgency=medium

  * RPM: Correct the usage of the systemd_requires macro.

 -- Niko Wenselowski <n.wenselowski@uib.de>  Wed, 17 May 2017 17:03:23 +0200

opsiconfd (4.1.1.5-2) testing; urgency=medium

  * RPM: fix wrong indentation on SUSE.

 -- Niko Wenselowski <n.wenselowski@uib.de>  Wed, 17 May 2017 16:49:30 +0200

opsiconfd (4.1.1.5-1) testing; urgency=medium

  * Switch to systemd for providing the service.
  * Drop helper scripts only used for SysV init.
  * setup.py: Create the opsiconfd script as an entry point.
  * setup.py: Set the version of opsiconfd based on changelog.

 -- Niko Wenselowski <n.wenselowski@uib.de>  Wed, 17 May 2017 16:07:27 +0200

opsiconfd (4.1.1.4-1) testing; urgency=medium

  * Info page: fix bug that prevented rendering.

 -- Niko Wenselowski <n.wenselowski@uib.de>  Wed, 26 Apr 2017 13:34:34 +0200

opsiconfd (4.1.1.3-1) testing; urgency=medium

  * Drop support for avahi / zeroconf.
  * Interface page is now only accessible for admins.
  * Added config option for accepted ciphers to opsiconfd.conf.
  * Info page: show versions of opsiconfd and python-opsi.
  * opsiconfd now requires at least Python 2.7.

 -- Niko Wenselowski <n.wenselowski@uib.de>  Wed, 26 Apr 2017 11:37:21 +0200

opsiconfd (4.1.1.2-2) testing; urgency=medium

  * systemd: Automatically restart service on failure.

 -- Niko Wenselowski <n.wenselowski@uib.de>  Wed, 29 Mar 2017 17:43:04 +0200

opsiconfd (4.1.1.2-1) experimental; urgency=medium

  * Removed more obsolete code.

 -- Niko Wenselowski <n.wenselowski@uib.de>  Fri, 27 Jan 2017 15:14:05 +0100

opsiconfd (4.1.1.1-1) experimental; urgency=medium

  * Using absolute imports.
  * Info page uses now generators for site generation.
  * Python 3 compatible octal values.
  * opsiconfd.conf: Update ip now defaults to yes.
  * Removed references to old message bus implementation.
  * Refactored monitoring module.
  * Removed unsupported multiprocessing option.

 -- Niko Wenselowski <n.wenselowski@uib.de>  Fri, 16 Sep 2016 12:12:24 +0200


[[opsi-4.1-releasenotes-misc-changelogs-opsipxeconfd]]
=== Changelog opsipxeconfd

opsipxeconfd (4.1.1.4-2) experimental; urgency=medium

  * .deb postinst: patching directories of opsipxeconfd.conf on UCS system

 -- Mathias Radtke <m.radtke@uib.de>  Wed, 08 Nov 2017 08:20:13 +0100

opsipxeconfd (4.1.1.4-1) stable; urgency=medium

  * Base code on 4.0.7.9-1.
  * Make use of OPSI.Config.
  * .deb postinst: Enable opsipxeconfd by default.

 -- Niko Wenselowski <n.wenselowski@uib.de>  Mon, 06 Nov 2017 12:09:47 +0100

opsipxeconfd (4.1.1.3-1) stable; urgency=medium

  * Base code on 4.0.7.8-3.

 -- Niko Wenselowski <n.wenselowski@uib.de>  Mon, 31 Jul 2017 10:32:59 +0200

opsipxeconfd (4.1.1.2-1) testing; urgency=medium

  * Added configuration options "uefi netboot config template x86" and
    "uefi netboot config template x64" to config file.

 -- Niko Wenselowski <n.wenselowski@uib.de>  Tue, 20 Jun 2017 10:33:01 +0200

opsipxeconfd (4.1.1.1-12) testing; urgency=medium

  * RPM: Capitalize summary.

 -- Niko Wenselowski <n.wenselowski@uib.de>  Fri, 19 May 2017 13:16:10 +0200

opsipxeconfd (4.1.1.1-11) testing; urgency=medium

  * RPM: refactor start / restart of service in postinst.

 -- Niko Wenselowski <n.wenselowski@uib.de>  Fri, 19 May 2017 12:37:54 +0200

opsipxeconfd (4.1.1.1-10) testing; urgency=medium

  * RPM: remove obsolete listing of initscript.

 -- Niko Wenselowski <n.wenselowski@uib.de>  Fri, 19 May 2017 12:28:03 +0200

opsipxeconfd (4.1.1.1-9) testing; urgency=medium

  * RPM: Reference correct path.

 -- Niko Wenselowski <n.wenselowski@uib.de>  Fri, 19 May 2017 12:15:24 +0200

opsipxeconfd (4.1.1.1-8) testing; urgency=medium

  * Switch to systemd for providing the service.

 -- Niko Wenselowski <n.wenselowski@uib.de>  Fri, 19 May 2017 12:06:53 +0200

opsipxeconfd (4.1.1.1-7) experimental; urgency=medium

  * depends on opsi-tftpd

 -- Mathias Radtke <m.radtke@uib.de>  Wed, 10 May 2017 10:13:31 +0200

opsipxeconfd (4.1.1.1-6) testing; urgency=medium

  * systemd service file: added automatic restart on failure.

 -- Niko Wenselowski <n.wenselowski@uib.de>  Thu, 30 Mar 2017 09:56:11 +0200

opsipxeconfd (4.1.1.1-5) experimental; urgency=medium

  * spec: tftp-hpa-server -> opsi-tftp-hpa-server

 -- Mathias Radtke <m.radtke@uib.de>  Mon, 20 Mar 2017 16:12:51 +0100

opsipxeconfd (4.1.1.1-4) experimental; urgency=medium

  * opsipxeconfd.spec: tftpd-hpa -> tftp-hpa-server

 -- Mathias Radtke <m.radtke@uib.de>  Mon, 06 Feb 2017 10:38:27 +0100

opsipxeconfd (4.1.1.1-3) testing; urgency=medium

  * Merged packaging fixes from opsi 4.0.7.

 -- Niko Wenselowski <n.wenselowski@uib.de>  Mon, 30 Jan 2017 12:32:10 +0100

opsipxeconfd (4.1.1.1-2) experimental; urgency=medium

  * removed opsi-atftpd dependency -> tftpd-hpa

 -- Mathias Radtke <m.radtke@uib.de>  Fri, 06 Jan 2017 09:56:00 +0100

opsipxeconfd (4.1.1.1-1) experimental; urgency=medium

  * Sharing more code with python-opsi.

 -- Niko Wenselowski <n.wenselowski@uib.de>  Fri, 02 Dec 2016 11:04:06 +0100


[[opsi-4.1-releasenotes-misc-changelogs-opsi-linux-bootimage]]
=== Changelog opsi-linux-bootimage

opsi-linux-bootimage (20171114-1) experimental; urgency=medium

  * starting getty@ttyS0 when /dev/ttyS0 is present
  * added thunderbolt driver

 -- Mathias Radtke <m.radtke@uib.de>  Tue, 14 Nov 2017 14:50:23 +0100

opsi-linux-bootimage (20171108-1) experimental; urgency=medium

  * corrected moving files and removing directory link on existing UCS systems
  * postinst; UCS: moving files instead of linking

 -- Mathias Radtke <m.radtke@uib.de>  Wed, 08 Nov 2017 11:07:35 +0100

opsi-linux-bootimage (20171018-1) experimental; urgency=medium

  * kernel 4.13.6
  * added smbv1 fallback if smbv3 mount fails

 -- Mathias Radtke <m.radtke@uib.de>  Thu, 12 Oct 2017 16:47:47 +0200

opsi-linux-bootimage (20171002-1) experimental; urgency=medium

  * master.py: imports - one per line
  * master.py: imports first
  * master.py: using os.path.join

 -- Mathias Radtke <m.radtke@uib.de>  Mon, 25 Sep 2017 16:11:56 +0200

opsi-linux-bootimage (20170913-1) experimental; urgency=medium

  * kernel 4.13.1
  * python-opsi updated (4.1.1.17-1)

 -- Mathias Radtke <m.radtke@uib.de>  Wed, 13 Sep 2017 12:31:20 +0200

opsi-linux-bootimage (20170725-1) experimental; urgency=medium

  * serial driver is now modular

 -- Mathias Radtke <m.radtke@uib.de>  Wed, 19 Jul 2017 15:49:02 +0200

opsi-linux-bootimage (20170714-1) experimental; urgency=medium

  * kernel 4.12.1
  * disabled ipmi_watchdog driver

 -- Mathias Radtke <m.radtke@uib.de>  Thu, 13 Jul 2017 15:24:19 +0200

opsi-linux-bootimage (20170713-1) experimental; urgency=medium

  * refactored master.py

 -- Mathias Radtke <m.radtke@uib.de>  Wed, 12 Jul 2017 15:00:07 +0200

opsi-linux-bootimage (20170703-1) experimental; urgency=medium

  * kernel 4.11.5

 -- Mathias Radtke <m.radtke@uib.de>  Mon, 03 Jul 2017 11:35:12 +0200

opsi-linux-bootimage (20170517-1) experimental; urgency=medium

  * refactored master.py

 -- Mathias Radtke <m.radtke@uib.de>  Wed, 17 May 2017 13:51:55 +0200

opsi-linux-bootimage (20170713-2) experimental; urgency=medium

  * version bump

 -- Mathias Radtke <m.radtke@uib.de>  Thu, 13 Jul 2017 08:33:50 +0200

opsi-linux-bootimage (20170713-1) experimental; urgency=medium

  * disabled watchdog driver
  * added intel_pmc driver
  * added tpm_crb driver

 -- Mathias Radtke <m.radtke@uib.de>  Tue, 11 Jul 2017 14:38:04 +0200

opsi-linux-bootimage (20170620-1) testing; urgency=medium

  * kernel 4.11.5

 -- Mathias Radtke <m.radtke@uib.de>  Tue, 20 Jun 2017 14:38:04 +0200

opsi-linux-bootimage (20170508-1) testing; urgency=medium

  * Serial driver 8250 built-in
  * enabled serial-getty@ttyS0 on boot

 -- Mathias Radtke <m.radtke@uib.de>  Mon, 08 May 2017 14:38:22 +0200

opsi-linux-bootimage (20170502-1) experimental; urgency=medium

  * fixed false positive when using nodhcp in cmdline

 -- Mathias Radtke <m.radtke@uib.de>  Tue, 02 May 2017 14:24:25 +0200

opsi-linux-bootimage (20170407-2) experimental; urgency=medium

  * RPM messup

 -- Mathias Radtke <m.radtke@uib.de>  Fri, 07 Apr 2017 11:52:54 +0200

opsi-linux-bootimage (20170407-1) experimental; urgency=medium

  * added Splashscreen
  * added success notification
  * added failure notification

 -- Mathias Radtke <m.radtke@uib.de>  Fri, 07 Apr 2017 10:51:07 +0200

opsi-linux-bootimage (20170405-1) experimental; urgency=medium

  * removed user user
  * CD ISO has sshd disabled by default
  * kernel 4.10.8

 -- Mathias Radtke <m.radtke@uib.de>  Wed, 05 Apr 2017 14:27:19 +0200

opsi-linux-bootimage (20170320-1) experimental; urgency=medium

  * python-opsi_4.1.1.3-1

 -- Mathias Radtke <m.radtke@uib.de>  Mon, 20 Mar 2017 10:51:02 +0100

opsi-linux-bootimage (20170316-1) experimental; urgency=medium

  * 4.1 build

 -- Mathias Radtke <m.radtke@uib.de>  Thu, 16 Mar 2017 14:33:45 +0100


[[opsi-4.1-releasenotes-misc-changelogs-opsi-server]]
=== Changelog opsi-server

opsi-server (4.1.1.4-5) testing; urgency=medium

  * RPM: CentOS / RHEL do not support Suggests. Removed for these distros.

 -- Niko Wenselowski <n.wenselowski@uib.de>  Mon, 09 Oct 2017 18:03:02 +0200

opsi-server (4.1.1.4-4) testing; urgency=medium

  * Removed hard dependency for MySQL / MariaDB because it is not necessary
    to have them installed if the server is using jsonrpc as backend.

 -- Niko Wenselowski <n.wenselowski@uib.de>  Mon, 09 Oct 2017 16:02:22 +0200

opsi-server (4.1.1.4-3) testing; urgency=medium

  * Depending on server for MySQL / MariaDB as the default dispatch.conf
    now relies on this.

 -- Niko Wenselowski <n.wenselowski@uib.de>  Wed, 06 Sep 2017 12:45:12 +0200

opsi-server (4.1.1.4-2) testing; urgency=medium

  * Listing all required folders as part of the package.

 -- Niko Wenselowski <n.wenselowski@uib.de>  Fri, 21 Jul 2017 13:44:19 +0200

opsi-server (4.1.1.4-1) testing; urgency=medium

  * Fix bug preventing interactive depot registration.

 -- Niko Wenselowski <n.wenselowski@uib.de>  Fri, 21 Jul 2017 09:49:55 +0200

opsi-server (4.1.1.3-2) testing; urgency=medium

  * Creating /var/lib/opsi/workbench through the package.
  * Removed automatic backend updates from the postinst as this breaks
    the intended backend updates. Administrators need to manually migrate.

 -- Niko Wenselowski <n.wenselowski@uib.de>  Tue, 04 Jul 2017 15:03:50 +0200

opsi-server (4.1.1.3-1) testing; urgency=medium

  * Adjusting import for getServerAddress.

 -- Niko Wenselowski <n.wenselowski@uib.de>  Fri, 30 Jun 2017 16:18:36 +0200

opsi-server (4.1.1.2-2) testing; urgency=medium

  * Providing module header for opsi-setup.

 -- Niko Wenselowski <n.wenselowski@uib.de>  Fri, 30 Jun 2017 15:23:37 +0200

opsi-server (4.1.1.2-1) testing; urgency=medium

  * Depending on opsi 4.1 packages.
  * Many internal refactorings to re-use functionality present in python-opsi.
  * Using new method for updating the file backend for opsi 4.1.
  * Server setup does take the new workbench attributes into account.

 -- Niko Wenselowski <n.wenselowski@uib.de>  Fri, 30 Jun 2017 13:46:13 +0200

opsi-server (4.1.1.1-6) experimental; urgency=medium

  * depending on opsi-tftpd

 -- Mathias Radtke <m.radtke@uib.de>  Wed, 10 May 2017 09:48:35 +0200

opsi-server (4.1.1.1-5) experimental; urgency=medium

  * Renamed package to opsi-server.
  * .deb: Depend on opsi-tftpd-hpa
  * .rpm: Depend on opsi-tftp-hpa-server

 -- Niko Wenselowski <n.wenselowski@uib.de>  Mon, 20 Mar 2017 10:08:10 +0100

opsi-depotserver (4.1.1.1-4) experimental; urgency=medium

  * depending on python-opsi 4.1.1.1-1

 -- Mathias Radtke <m.radtke@uib.de>  Tue, 07 Feb 2017 16:11:24 +0100

opsi-depotserver (4.1.1.1-3) stable; urgency=medium

  * opsi-depotserver.spec: fixed broken spec file

 -- Mathias Radtke <m.radtke@uib.de>  Wed, 25 Jan 2017 09:50:00 +0100

opsi-depotserver (4.1.1.1-2) stable; urgency=medium

  * replaced opsi-atftp with tftp-hpa

 -- Mathias Radtke <m.radtke@uib.de>  Wed, 25 Jan 2017 08:45:00 +0100

opsi-depotserver (4.1.1.1-1) stable; urgency=medium

  * Remove references to obsolete LDAP support.
    This removes support for --update-ldap and --update-univention.

 -- Niko Wenselowski <n.wenselowski@uib.de>  Tue, 24 Jan 2017 18:58:53 +0100


[[opsi-4.1-releasenotes-misc-changelogs-opsi-utils]]
=== Changelog opsi-utils

opsi-utils (4.1.1.14-1) stable; urgency=medium

  * opsi-package-updater: Improve working with repositories that have their
    listings generated through Apache autoindex by making sure each link is
    only collected once.

 -- Niko Wenselowski <n.wenselowski@uib.de>  Tue, 10 Oct 2017 17:54:34 +0200

opsi-utils (4.1.1.13-1) stable; urgency=medium

  * opsi-package-updater: Moved fix for handling IIS repos
    for easier re-usability.
  * opsi-package-updater: Error messages about incomplete repository
    configurations will now contain the path to the corresponding .repo file.
  * opsi-package-updater: Added switch --use-inactive-repository that allows
    to temporarily use a disabled repository.
  * opsi-admin: Remove unnecessary statement.

 -- Niko Wenselowski <n.wenselowski@uib.de>  Tue, 10 Oct 2017 17:13:40 +0200

opsi-utils (4.1.1.12-1) stable; urgency=medium

  * opsi-package-updater repositories: Configured repositories for 4.1.
    Added repo configs for testing and experimental - disabled by default.

 -- Niko Wenselowski <n.wenselowski@uib.de>  Wed, 06 Sep 2017 12:04:59 +0200

opsi-utils (4.1.1.11-1) testing; urgency=medium

  * opsi-package-updater: Added option to search for product.
  * opsi-package-updater: If listing the packages in a repository fails
    this repository will be skipped.
  * opsi-package-updater: Encountering an error during the processing
    will lead to a non-zero exit code.
  * opsi-package-updater: Removed --use-existing-checksum as this is
    the default setting.
  * opsi-package-updater: repo 'master' has been renamed to 'primary'.
  * opsi-package-updater: Messages will show the repo name instead of
    base url for easier identification.
  * opsi-package-updater: Renamed the mode 'repo' to 'list' and also
    changed the name of some arguments.
  * opsi-package-updater: Added 'list --product-differences' to show
    differences between local and remote product versions.

 -- Niko Wenselowski <n.wenselowski@uib.de>  Wed, 26 Jul 2017 12:35:08 +0200

opsi-utils (4.1.1.10-1) testing; urgency=medium

  * opsi-backup, opsi-convert, opsi-makepackage, opsi-package-updater:
    Fix bug where giving the log-level was impossible.

 -- Niko Wenselowski <n.wenselowski@uib.de>  Mon, 10 Jul 2017 14:03:48 +0200

opsi-utils (4.1.1.9-1) testing; urgency=medium

  * opsi-package-manager: option -s added to set setup with dependencies

 -- Erol Ueluekmen <e.ueluekmen@uib.de>  Thu, 22 Jun 2017 14:19:44 +0200

opsi-utils (4.1.1.8.1-4) testing; urgency=medium

  * .deb: Deploy correct manpages.

 -- Niko Wenselowski <n.wenselowski@uib.de>  Thu, 22 Jun 2017 12:41:12 +0200

opsi-utils (4.1.1.8.1-3) testing; urgency=medium

  * Fix syntax in manpage of opsi-makepackage.

 -- Niko Wenselowski <n.wenselowski@uib.de>  Thu, 22 Jun 2017 12:36:20 +0200

opsi-utils (4.1.1.8.1-2) testing; urgency=medium

  * Fixed creation of manpages.

 -- Niko Wenselowski <n.wenselowski@uib.de>  Thu, 22 Jun 2017 12:20:31 +0200

opsi-utils (4.1.1.8.1-1) testing; urgency=medium

  * Merged opsi-utils 4.0.7.15-1.

 -- Niko Wenselowski <n.wenselowski@uib.de>  Thu, 22 Jun 2017 12:12:53 +0200

opsi-utils (4.1.1.8-1) testing; urgency=medium

  * Adjusted import path for exceptions.
  * opsi-package-updater: Being less noisy if running with only -v.

 -- Niko Wenselowski <n.wenselowski@uib.de>  Wed, 21 Jun 2017 16:47:12 +0200

opsi-utils (4.1.1.7-1) testing; urgency=medium

  * opsi-package-updater now has a download-only mode accessible
    from the commandline.

 -- Niko Wenselowski <n.wenselowski@uib.de>  Mon, 29 May 2017 15:15:08 +0200

opsi-utils (4.1.1.6-1) testing; urgency=medium

  * opsi-product-updater has been renamed to opsi-package-updater to
    reflect that the syntax is very different.
    The configuration file is now opsi-package-updater.conf.
    The repository config files are now to be placed unter
    /etc/opsi/package-updater.repos.d/.
  * opsi-makeproductfile has been renamed to opsi-makepackage.

 -- Niko Wenselowski <n.wenselowski@uib.de>  Tue, 23 May 2017 17:20:53 +0200

opsi-utils (4.1.1.5-1) testing; urgency=medium

  * opsi-product-updater: Messages regarding zsync and md5 now include
    the productId to make it easier to find affected products.
  * opsi-product-updater: now able to show the updates that are present
    through the repo parameter --list-updatable.
  * opsi-product-updater: changed the default loglevel to WARNING.
  * opsi-product-updater: Re-classified the level of some logmessages
    to make the output more helpful.
  * opsi-product-updater: The notifier now also informs when packages
    get set to setup on clients or when clients are to be woken up
    through Wake-on-LAN.
  * opsi-makeproductfile: --zsync and --md5 are now the defaults.
    Added parameter ---no-zsync and --no-md5 to suppress creation.
  * opsi-newprod: Any file mentioned as a script for an action gets
    automatically created during the creation of the directories.

 -- Niko Wenselowski <n.wenselowski@uib.de>  Thu, 04 May 2017 18:01:38 +0200

opsi-utils (4.1.1.4-1) testing; urgency=medium

  * opsi-backup: removed unsupported parameter --mode.
  * opsi-product-updater: repositories will be identified by the name of the
    section minus the preceding 'repository_'.
  * opsi-product-updater: If a repository-section defines an attribut
    'description' this will be shown when listing repositories.
  * opsi-product-updater: renamed repo parameter --list-product-diffs
    to --list-product-and-installationstatus.
  * opsi-product-updater: to limit the actions 'update' and 'install' to
    specific products the option '--product-ids' must not be given anymore.
    Just specify the IDs of the product, ie:
    opsi-product-updater install opsi-winst opsi-client-agent
  * The applications now all acceppt --log-level to have an constant way of
    defining the desired log level.

 -- Niko Wenselowski <n.wenselowski@uib.de>  Mon, 06 Mar 2017 15:47:19 +0100

opsi-utils (4.1.1.3-1) testing; urgency=medium

  * opsi-backup: Work without removed OPSI.Util.Collections.

 -- Niko Wenselowski <n.wenselowski@uib.de>  Wed, 01 Feb 2017 11:30:25 +0100

opsi-utils (4.1.1.2-1) testing; urgency=medium

  * opsi-makeproductfile now supports long options.
  * opsi-product-updater: new option --list-product-diffs to show differences
    in versions between repository and local depot.
  * opsi-makeproductfile: removed support for opsi 3 compatible packages.
  * Removed support for python 2.6.
  * opsi-product-updater: 'repo' mode commands will always show output.
  * opsi-product-updater: Check for repo name is now case-insensitive.

 -- Niko Wenselowski <n.wenselowski@uib.de>  Fri, 27 Jan 2017 14:58:33 +0100

opsi-utils (4.1.1.1-2) experimental; urgency=medium

  * RPM: create product-updater.repos.d in install.

 -- Niko Wenselowski <n.wenselowski@uib.de>  Fri, 02 Dec 2016 11:34:14 +0100

opsi-utils (4.1.1.1-1) experimental; urgency=medium

  * opsi-product-updater: changed parsing of commandline options.
    "-i" has been replaced by "install". For the default behaviour please
    supply "update".
  * opsi-product-updater will load additional repository configs from
    /etc/opsi/product-updater.repos.d.
  * opsi-product-updater learned to list repositories and their products
    via "repo --list-active" and "repo --list-products".
  * opsi-backup uses the new methods introduced in python-opsi 4.1.
  * opsi-product-updater: the -p option now takes a list of items separated
    by space and not by comma (old behaviour).
  * opsi-product-updater: Repositories now can have a "name" set in
    configuration files.
  * opsi-product-updater: limit actions to a repository by specifying
    "--repo name_of_repo".

 -- Niko Wenselowski <n.wenselowski@uib.de>  Tue, 29 Nov 2016 13:57:13 +0100


[[opsi-4.1-releasenotes-misc-changelogs-python-opsi]]
=== Changelog python-opsi

python-opsi (4.1.1.20-1) stable; urgency=medium

  * Moved function getGlobalConfig from OPSI.Util to OPSI.Util.Config.
  * Calling OPSI.Util.getfqdn without explicit parameter as this resembles
    the default behaviour.

 -- Niko Wenselowski <n.wenselowski@uib.de>  Mon, 06 Nov 2017 15:02:03 +0100

python-opsi (4.1.1.19-1) stable; urgency=medium

  * spec: added python-setuptools workaround for sles12 + Leap

 -- Mathias Radtke <m.radtke@uib.de>  Fri, 13 Oct 2017 13:53:02 +0200

python-opsi (4.1.1.18-1) stable; urgency=medium

  * 45_deprecated.conf: Removed methods isLegacyOpsi, isOpsi35 and isOpsi4
    since there is no need for them.

 -- Niko Wenselowski <n.wenselowski@uib.de>  Wed, 27 Sep 2017 16:20:25 +0200

python-opsi (4.1.1.17-1) stable; urgency=medium

  * Added logging to host_renameOpsiClient.
  * host_renameOpsiDepotserver will now also change the workbenchRemoteUrl.
  * Added logging to host_renameOpsiDepotserver.
  * Internal refactorings in host_renameOpsiDepotserver.
  * OPSI.Backend.ConfigDataBackend: Added new method
    backend_getSystemConfiguration.

 -- Niko Wenselowski <n.wenselowski@uib.de>  Wed, 30 Aug 2017 13:05:56 +0200

python-opsi (4.1.1.16-1) stable; urgency=medium

  * OPSI.System.Posix: Added CommandNotFoundException to __all__.

 -- Niko Wenselowski <n.wenselowski@uib.de>  Mon, 31 Jul 2017 11:44:27 +0200

python-opsi (4.1.1.15-1) testing; urgency=medium

  * Improved rpm packaging.
  * Refactored OPSI.Util.compareVersions.
  * Refactored OPSI.Util.File.Opsi.HostKeyFile for faster writing.
  * OPSI.Util.File.Opsi.HostKeyFile: Do not crash when reading file with
    invalid format.

 -- Niko Wenselowski <n.wenselowski@uib.de>  Fri, 28 Jul 2017 15:20:43 +0200

python-opsi (4.1.1.14-3) testing; urgency=medium

  * Listing 45_deprecated.conf for rollout.
  * Debian: Removed leftovers from the pre-systemd-era.
  * postinst: Another change at removing /etc/opsi/version to make SLES
    happy.

 -- Niko Wenselowski <n.wenselowski@uib.de>  Thu, 13 Jul 2017 16:03:00 +0200

python-opsi (4.1.1.14-2) testing; urgency=medium

  * RPM: Removed leftovers from the pre-systemd-era.
  * postinst: Making sure that a failed attempt at removing /etc/opsi/version
    does not crash the postinst.

 -- Niko Wenselowski <n.wenselowski@uib.de>  Thu, 13 Jul 2017 15:47:25 +0200

python-opsi (4.1.1.14-1) testing; urgency=medium

  * OPSI.Util.File.Opsi.PackageContentFile.generate has been refactored to
    be easier to maintain.
  * OPSI.Backend.Backend: backend_info will log informations about a
    possibly missing modules file as info instead of warning.
  * postinst: only remove /etc/opsi/version if this file exists
  * Debian packaging: Remove leftover from python-support.

 -- Niko Wenselowski <n.wenselowski@uib.de>  Thu, 13 Jul 2017 15:17:49 +0200

python-opsi (4.1.1.13-1) testing; urgency=medium

  * OpsiBackup: Fix a bug where an attempt may be made to compare
    uncomparable types.

 -- Niko Wenselowski <n.wenselowski@uib.de>  Mon, 10 Jul 2017 17:57:43 +0200

python-opsi (4.1.1.12-1) testing; urgency=medium

  * OpsiBackup: Fix bug where differences between the archive and the current
    system are detected but there are none.

 -- Niko Wenselowski <n.wenselowski@uib.de>  Mon, 10 Jul 2017 13:53:23 +0200

python-opsi (4.1.1.11-2) testing; urgency=medium

  * dispatch.conf.default now uses a default setup that makes use of file
    for all data except for audit data which is stored in MySQL.

 -- Niko Wenselowski <n.wenselowski@uib.de>  Tue, 04 Jul 2017 16:15:53 +0200

python-opsi (4.1.1.11-1) testing; urgency=medium

  * OPSI.Util.Task.UpdateBackend.ConfigurationData.getServerAddress is
    now a public function.

 -- Niko Wenselowski <n.wenselowski@uib.de>  Fri, 30 Jun 2017 16:06:00 +0200

python-opsi (4.1.1.10-1) testing; urgency=medium

  * acl.conf.default: restricted the access to user_getCredentials and
    user_setCredentials.
  * New extension: 45_deprecated.conf. Methods in that extension will issue a
    warning when called. Calls to these functions should be replaced in the used clients as these functions will be removed in the future.
    Currently containing the functions isLegacyOpsi, isOpsi35 and isOpsi4.
  * Make it possible to configure the location of the workbench on
    OpsiDepotserver.
  * New module OPSI.Util.Task.InitializeBackend for backend setup.
  * New module OPSI.Util.Task.UpdateBackend.ConfigurationData for updating
    the configuration data in an existing backend.
  * New module OPSI.Config.
  * initializeBackends will set up new servers with remote URLs using IP
    except for UCS where FQDN is used by default.

 -- Niko Wenselowski <n.wenselowski@uib.de>  Fri, 30 Jun 2017 12:01:29 +0200

python-opsi (4.1.1.9-1) testing; urgency=medium

  * Remove obsolete reference to /etc/opsi/version when restoring a backup.
  * dhcpd.conf: Make the current Debian/Ubuntu dhcp settings the default.

 -- Niko Wenselowski <n.wenselowski@uib.de>  Tue, 27 Jun 2017 15:02:52 +0200

python-opsi (4.1.1.8-1) testing; urgency=medium

  * Fix a bug in OPSI.Util.objectToBash leading to an AttributeError.
  * Fix a bug in OPSI.Util.objectToBash where the reference to an result
    was incomplete.

 -- Niko Wenselowski <n.wenselowski@uib.de>  Thu, 22 Jun 2017 16:06:21 +0200

python-opsi (4.1.1.7-1) testing; urgency=medium

  * Exceptions have been moved from OPSI.Types to OPSI.Exceptions.
  * Remove leftover for Scientific Linux support.
  * Re-classified log-messages regarding the (un)installation of packages.
  * Post-installation /etc/opsi/version will be removed.
  * SQL backend: speed up retrieval of ProductProperty objects.
  * Various refactorings regarding (de)serialization.

 -- Niko Wenselowski <n.wenselowski@uib.de>  Wed, 21 Jun 2017 15:48:26 +0200

python-opsi (4.1.1.6-1) testing; urgency=medium

  * 20_legacy.conf: Various refactorings to make it easier to maintain.
  * 20_legacy.conf: Removed method deleteGroup. Use group_delete instead.
  * 20_legacy.conf: Removed method createServer.
  * 20_legacy.conf: Removed method deleteClient. Use host_delete instead.
  * 20_legacy.conf: Removed method deleteDepot. Use host_delete instead.
  * 20_legacy.conf: Removed method setHostLastSeen.
  * 20_legacy.conf: Removed method deleteProductDependency.
  * 20_legacy.conf: Removed method deleteOpsiBase.
  * 20_legacy.conf: Removed method createOpsiBase.
  * 30_kiosk.conf: Relying on dict comprehensions.
  * Debian packaging: Remove workarounds for Debian 7 and Ubuntu 12.04.
  * Method backend_info will now use the version from OPSI.__version__.
  * Certificates created with OPSI.Util.Task.createCertificate will use
    sha512 instead of sha1.
  * acl.conf.default: Limit access to getData / getRawData to administrative
    users.
  * Remove support for RHEL / CentOS 6.
  * Remove modules for obsolete opsiconfd supervisor.
  * New module OPSI.Util.Task.UpdateBackend.File.
  * OPSI.Util.Task.UpdateBackend: Added check for the used schema version
    of the backend.
  * Removed usage of the file /etc/opsi/version. It is safer to read the
    version from OPSI.__version__.

 -- Niko Wenselowski <n.wenselowski@uib.de>  Tue, 30 May 2017 13:58:35 +0200

python-opsi (4.1.1.5-1) testing; urgency=medium

  * OPSI.Util.objectToBash: refactored function.
  * ConfigDataBackend: log_read and log_write now accept logType 'winpe'.
  * Removed deprecated method backend_getSharedAlgorithm.
  * OPSI.Util.getfqdn: small internal refactoring.
  * OPSI.Service.Session: SessionHandler.getSessions now always returns
    a dict.
  * Refactored configState_getClientToDepotserver to work faster.
  * Improved speed of OPSI.Object.decodeIdent if the hash contains no
    key 'ident'.
  * 10_opsi.conf: Dropped the deprecated 'force' parameter from
    setProductActionRequestWithDependencies.
  * Instead of a plain Exception we now raise more specific exceptions in
    many places.
  * OPSI.Util.File.Opsi.PackageControlFile now supports product properties
    with empty lists as default or possible values. Regenerating a control
    file will not drop that empty lists anymore.
  * The ports used for Wake-on-LAN in the HostControl(Safe) backend can now
    be configured on a per-broadcast-addresse-basis in hostcontrol.conf.
  * Refactorings in OPSI.Util.Message.

 -- Niko Wenselowski <n.wenselowski@uib.de>  Wed, 10 May 2017 14:32:20 +0200

python-opsi (4.1.1.4-1) testing; urgency=medium

  * OPSI.Backend.MySQL: Providing known error codes as constants.
  * OPSI.Backend.MySQL: Refactored MySQL.connect.
  * OPSI.Backend.JSONRPC.JSONRPCBackend: Removed check for working deflate
    that was required because of possibly invalid HTTP headers in old
    OPSI versions.
  * OPSI.System.Posix: no direct import of posix module.

 -- Niko Wenselowski <n.wenselowski@uib.de>  Mon, 24 Apr 2017 14:11:55 +0200

python-opsi (4.1.1.3-1) testing; urgency=medium

  * Small refactorings in SQL backend.
  * Cleaned up OPSI.Util.Repository.
  * 20_legacy.conf: Various cleanups and adaption of code style.
  * The user pcpatch is created with /bin/false as default shell.
  * Builds for debian-based systems do not depend on python-support anymore.
  * acl.conf.default and dispatch.conf.default will be copied instead of
    linked.
  * Implemented __all__ with tuples.
  * JSONRPCBackend: removed methods isLegacyOpsi, isOpsi35 and isOpsi4.
    If you need to know the version of the connected backend call the
    method 'backend_info' instead.
  * Internal refactorings.

 -- Niko Wenselowski <n.wenselowski@uib.de>  Fri, 17 Mar 2017 16:10:09 +0100

python-opsi (4.1.1.2-1) experimental; urgency=medium

  * OPSI.Backend.Backend got new context manager temporaryBackendOptions.
  * Removed various obsolete modules.
  * OPSI.Util.Task.Rights: removed opsi-deploy-client-agent-default and
    opsi-deploy-client-agent-old from the list of known executables.
  * PackageControlFile: no more support for opsi3 compatible packages.
  * Removed support for incremental packages.
  * Minimum required Python version is now 2.7.
  * 70_dynamic_depot.conf: Removed unused getBytes.
  * Removed 30_configed.conf.
  * 20_legacy.conf: Removed various methods only returning a
    NotImplementedError: setNetworkConfigValue, deleteNetworkConfig,
    setPXEBootConfiguration, unsetPXEBootConfiguration,
    softwareInformationToProductInstallationStatus,
    filterHostsByHardwareInformation, generateOpsiHostKey,
    createServerProduct, getServerProductIds_list,
    getUninstalledProductIds_list, getDefaultNetBootProductId,
    deleteProductProperty, deleteProductProperties
  * 20_legacy.conf: getHostId now raises a ValueError if no hostname
    is given.
  * 20_legacy.conf: getOpsiHostKey now raises a ValueError if no hostId
    is given.
  * Remove unused BootConfiguration objects and SQL tables. If the table
    'BOOT_CONFIGURATION' exists updateMySQLBackend will drop that table.
  * BackendDispatchConfigFile.parse will now return a list of tuples.

 -- Niko Wenselowski <n.wenselowski@uib.de>  Fri, 27 Jan 2017 15:42:15 +0100

python-opsi (4.1.1.1-1) experimental; urgency=medium

  * OPSI.Logger, OPSI.Object, OPSI.System.Posix, OPSI.System.Windows,
    OPSI.Util and the modules in OPSI.Backend now provide __all__.
  * JSONRPCBackend: Avoid using "async" as name for a variable because
    this will become a keyword with Python 3.5.
  * ConfigurationData.initializeConfigs now creates entries for
    opsiclientd.event_user_login.active and
    opsiclientd.event_user_login.action_processor_command by default.
  * Removed parts of an old message bus implementation.
  * Replacing the deprecated module 'new' with 'types'.
  * SQLBackend: Filter creation is done through generators.
  * OPSI.Util.objectToBeautifiedText now uses the json module instead of
    a custom implementation.
  * Removed unsupported backends: Cache, Multiplex, LDAP.
  * ThreadPool: removed functions __createWorker & __deleteWorker.
  * Removed unused function OPSI.Util.flattenSequence.
  * OPSI.Backend.Backend implemented the protocol for being used as a
    context manager.
  * setup.py will patch the first version found in debian/changelog
    into OPSI/__init__.py to always show the current version.

 -- Niko Wenselowski <n.wenselowski@uib.de>  Tue, 04 Oct 2016 16:15:11 +0200
