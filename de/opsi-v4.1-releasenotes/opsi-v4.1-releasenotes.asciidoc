////
; Copyright (c) uib gmbh (www.uib.de)
; This documentation is owned by uib
; and published under the german creative commons by-sa license
; see:
; http://creativecommons.org/licenses/by-sa/3.0/de/
; http://creativecommons.org/licenses/by-sa/3.0/de/legalcode
; english:
; http://creativecommons.org/licenses/by-sa/3.0/
; http://creativecommons.org/licenses/by-sa/3.0/legalcode
;
; credits: http://www.opsi.org/credits/
////

:Author:    uib gmbh
:Email:     info@uib.de
:Revision:  4.1
:doctype:   book

// Include common opsi terms
include::../common/opsi_terms.asciidoc[]

[[opsi-4.1-releasenotes]]
= opsi Version 4.1 Release Notes

// Include common opsi copyright
include::../common/opsi_manual_copyright.asciidoc[]

[[opsi-4.1-releasenotes-overview]]
== Übersicht der Neuerungen

*Schwerpunkte dieser Freigabe sind:*

* Neuer TFTPD: `opsi-tftp-hpa`
* Neues Werkzeug: `opsi-package-updater`
* Konfigurierbarer Pfad der Workbench
* Das Werkzeug `opsi-makeproductfile` wurde umbenannt zu `opsi-makepackage`
* Das Paket `opsi-depotserver` wurde umbenannt zu `opsi-server`
* Konfigurierbare Ports für Wake-On-LAN
* Geänderte Standardeinstellungen
* systemd als einziges unterstütztes Init-System
* Python 2.7 als Voraussetzung


[[opsi-4.1-releasenotes-important]]
== Wichtige Hinweise - Unbedingt Beachten

opsi 4.1 ist ein eigenständiges Release, welches eigene Paketquellen mitbringt.
Diese müssen vor der Installationen in das zu aktualisierende System eingebunden werden.

Für ein Update von opsi 4.0 ist es notwendig, dass die Betriebsystem-Pakete auf dem Server den aktuellen stabilen Stand verwenden.
Weitere Betriebssystem-Pakete, bspw. MySQL-Server, sollten ebenfalls auf dem aktuellsten verfügbaren Stand sein.
Andernfalls ist mit Problemen beim Update zu rechnen.

Es ist außerdem empfohlen, dass 'opsi-winst', 'opsi-client-agent' bzw. 'opsi-linux-client-agent' vor dem Update auf den Clients auf den aktuellsten Stand aus opsi 4.0 gebracht werden.

[[opsi-4.1-releasenotes-installation]]
== Hinweise zur Installation

Wir empfehlen vor der Installation des Updates eine Sicherung Ihres Backends +
mittels {opsi-backup} durchzuführen:
[source,prompt]
----
opsi-backup create
----

Die Produkte welche im Rahmen dieses Releases veröffentlicht werden, +
sind in etlichen Teilen voneinander abhängig. +
Sie sollten daher nicht versuchen, nur Teile zu installieren.

Wir empfehlen zuerst den Server und danach die opsi-Produkte zu aktualisieren.

Wir empfehlen nach dem Update die Ausführung von `opsi-setup --set-rights`, +
um sicher zu stellen, dass die Zugriffsberechtigungen korrekt gesetzt sind. +
Die Ausführung des Befehls kann mehrere Minuten in Anspruch nehmen.


[[opsi-4.1-releasenotes-installation-systempackages]]
=== Hinweise zum Aktualisieren der Betriebssystem-Pakete

Bitte stellen Sie sicher, dass Sie zum Zeitpunkt der Aktualisierung die
jeweils aktuellsten Pakete von opsi 4.0 aus dem Stable-Bereich verwenden!

Da dieses Update Änderungen der Datenstruktur im Backend mit sich bringt, ist es erforderlich als ersten Schritt nach dem Update die Backends zu migrieren.

Unter UCS wird die Migration der Backends durch das Join-Script vorgenommen und muss nicht mehr manuell durchgeführt werden.

Im Rahmen dieser Veröffentlichung wurde das Paket `opsi-depotserver` zu `opsi-server` umbenannt.

Für Debian und Ubuntu existiert ein Übergangs-Paket.
Falls Sie nach der Migration dieses Paket entfernen wollen, müssen Sie zuerst `opsi-server` als manuell installiert markieren und dann das Übergangs-Paket entfernen.

Das ist möglich mit den folgenden Schritten:

[source,prompt]
----
apt-get install opsi-server
apt-get remove opsi-depotserver
----


[[opsi-4.1-releasenotes-installation-opsipackages]]
=== Hinweise zum Aktualisieren von opsi-Paketen

opsi-Pakete sind in der Regel kompatibel zu sowohl opsi 4.0 als auch opsi 4.1.

opsi 3-Pakete sind nicht mehr kompatibel, da die Unterstützung hierfür entfernt wurde.

Die offiziellen opsi 4.1 Repositories auf _download.uib.de_ enthalten Pakete, welche mit opsi 4.1 kompatibel sind.
Bitte beachten Sie, dass diese Pakete nicht zwingend `4.1` als Version angegeben haben müssen, um kompatibel zu sein.


[[opsi-4.1-releasenotes-installation-migration]]
=== Migration eines opsi 4.0 Servers

Auf unterstützten Betriebsystemen ist es möglich eine bestehende opsi 4.0 Installation auf opsi 4.1 zu migrieren.

Im opsi 4.1 Release wird der 'opsi-atftpd' durch den neuen 'opsi-tftpd-hpa' ersetzt.
Hierbei ist zu beachten das eine bestehende Konfiguration für `tftpd` in der Datei '/etc/inetd.conf' bzw. '/etc/xinetd.conf' bzw. '/etc/default/atftpd' entfernt sowie der inetd-Service gestoppt werden muss.


[[opsi-4.1-releasenotes-installation-migration-repositories]]
==== Wechseln zu den neuen Repositories

Als erstes müssen die opsi 4.1 Repositories korrekt in die Paketquellen Ihres Betriebsystems eingetragen werden.


[[opsi-4.1-releasenotes-installation-migration-migrate]]
==== Durchführen der Migration

Nach dem Eintragen der neuen Paketquellen kann das System migriert werden.

Auf Debian basierten Systemen aktualisieren Sie auf opsi 4.1 wie folgt:
[source,prompt]
----
update-inetd --remove tftp
apt install opsi-tftpd-hpa
apt upgrade
apt install opsi-server
----

RedHat und CentOS sind wie folgt zu aktualisieren:
[source,prompt]
----
yum makecache
yum install opsi-server
----

SLES und OpenSUSE benötigen die folgenden Schritte für eine Migration
[source,prompt]
----
zypper dup --from home_uibmz_opsi_4.1_stable
----

Unter UCS aktualisieren Sie auf opsi 4.1 wie folgt:
[source,prompt]
----
univention install opsi-tftpd-hpa
univention-upgrade
----

Anschließend müssen die Backends Aktualisiert, die aktuelle Konfigration angewendet und die Dienste neu gestartet werden.
[source,prompt]
----
# Bei der Verwendung des MySQL-Backends zur Datenhaltung
opsi-setup --update-mysql
# Bei der Verwendung des File-Backends zur Datenhaltung
opsi-setup --update-file
opsi-setup --init-current-config
systemctl restart opsiconfd.service
systemctl restart opsipxeconfd.service
----

Der letzte Schritt ist die Aktualisierung auf die neuesten opsi-Pakete.

[source,prompt]
----
opsi-package-updater -v update
----

Nach diesen Schritten ist Ihr opsi 4.0 Server auf das Release 4.1 migriert und einsatzbereit.


[[opsi-4.1-releasenotes-packages]]
== Paketliste

.Server-Pakete:
* opsi4ucs 4.1.1.4-9
* opsiconfd 4.1.1.10-1
* opsipxeconfd 4.1.1.4-2
* opsi-linux-bootimage 20171114-1
* opsi-server 4.1.1.4-5
* opsi-utils 4.1.1.14-1
* opsi-utils-deprecated 4.0.7.17-1
// * opsi-configed 4.1.x
* python-opsi 4.1.1.20-1

// .opsi-Pakete (Windows):
// * opsi-client-agent 4.1.x
// * opsi-configed
// * opsi-winst
// * opsi-winst-test
// * jedit
// * TBD

.opsi-Pakete (Linux):
* l-opsi-server 4.1.0.1-7
* l-opsi-server-migrate 4.1.1-2


[[opsi-4.1-releasenotes-knownbugs]]
== Known Bugs / Known Problems

.KNOWN BUGS:

Keine.

.KNOWN PROBLEMS:

Keine.

[[opsi-4.1-releasenotes-eol]]
== Abkündigung

In diesem Kapitel werden die Abkündigungen aufgelistet.


[[opsi-4.1-releasenotes-eol-opsi3]]
=== Abkündigung: Support für opsi 3

Mit opsi 4.1 wird es keine Unterstützung mehr für opsi 3 geben.
Das betrifft Pakete, deren Control-Datei eventuell noch die Syntax von opsi 3 verwendet.

Außerdem wurde einige in opsi 3 vorhandene, aber für opsi 4 nicht portierte
Methoden aus der Backend-Erweiterung `20_legacy.conf` entfernt.
Diese Methoden waren in opsi 4.0 dadurch erkennbar, dass sie eine Fehlermeldung
_NotImplementedError_ zurückgaben, wenn ein Zugriff auf sie erfolgte.

Betroffene Methoden können dem Changelog von python-opsi entnommen werden.


[[opsi-4.1-releasenotes-eol_server]]
=== Abkündigung: Distributionen für opsi-server

Diese Distributionsversionen werden aus verschiedenen Gründen nicht weiter +
von opsi unterstützt.

* CentOS 6.x
* Debian 7.x
* RedHat Enterprise Linux 6.x
* Suse Linux Enterprise Server 11
* Univention Corporate Server 3.x
* Univention Corporate Server 4.1

Siehe auch gesondertes Kapitel: <<opsi-4.1-releasenotes-supportmatrix>>.


// [[opsi-4.1-releasenotes-eol_winclient]]
// === Abkündigung Clients: Windows Versionen

// Ab opsi v4.1 werden wir die Netbootpakete für

// * TBD

// nicht weiter pflegen. Ebenso planen wir für diese Windowsversionen die +
// Unterstützung in den Update Abo’s einzustellen. +
// Falls Sie hierzu Fragen oder Probleme haben, melden Sie sich bitte bei uns.

// Siehe auch gesondertes Kapitel: <<opsi-4.1-releasenotes-netboot-windows>>.

// [[opsi-4.1-releasenotes-eol_linclient]]
// === Abkündigung Clients: Linux Versionen

// Ab opsi v4.1 werden wir die Netbootpakete für

// * TBD

// nicht weiter pflegen. +
// Falls Sie hierzu Fragen oder Probleme haben, melden Sie sich bitte bei uns.


[[opsi-4.1-releasenotes-supportmatrix]]
== opsi Support Matrix

Im folgenden finden Sie eine Übersicht auf welchen Plattformen opsi
als Server läuft.

include::../common/opsi_manual_supportmatrix.asciidoc[]

Sollten Sie den opsi-server auf einer Betriebssystemversion einsetzen, +
welche im vorigen Abschnitt nicht als Unterstützt aufgeführt ist,
so empfehlen wir Ihnen ein Betriebssystem-Update bevor Sie opsi v4.0.7 einspielen.


[[opsi-releasenotes-4.1-changes-opsi-package-updater]]
== Neues Werkzeug 'opsi-package-updater'

In opsi 4.1 wird das aus vorherigen Versionen bekannten Werkzeug `opsi-product-updater` durch das Werkzeug `opsi-package-updater` ersetzt.

Die Aufgaben der Werkzeuge gleichen sich, allerdings haben sich die Aufrufparamter geändert und es sind eine Reihe von neuen Optionen hinzugekommen.

Das neue Werkzeug liefert einfache Möglichkeiten die vorhandenen Updates
zu sehen oder neue Pakete einzuspielen.

Eine ausführliche Beschreibung des Werkzeugs findet sich im Handbuch.

[[opsi-releasenotes-4.1-changes-opsi-package-updater-quickstart]]
=== Schnelleinstieg 'opsi-package-updater'

Zum Anzeigen der vorhandenen Aktualisierungen kann der folgende Befehl verwendet werden:

[source,prompt]
----
opsi-package-updater list --updatable-products
----

Die Aktualisierungen für die Pakete 'firefox' und 'javavm' können wie folgt eingespielt werden:

[source,prompt]
----
opsi-package-updater -vv update firefox javavm
----

Die Aktualisierung aller verfügbaren Pakete ohne sichtbare Ausgabe wird wie folgt vorgenommen:

[source,prompt]
----
opsi-package-updater update
----

Eine Übersicht über die in allen Repositories zur Verfügung stehenden Pakete liefert der folgende Befehl:

[source,prompt]
----
opsi-package-updater list --products
----

Die Installation des Pakets 'ubuntu' aus dem Repository 'uib_linux' kann wie folgt durchgeführt werden:

[source,prompt]
----
opsi-package-updater -vv --repo uib_linux install ubuntu
----

[[opsi-releasenotes-4.1-changes-opsi-package-updater-configfile]]
=== Übernahme Konfiguration des 'opsi-product-updater'

Die Konfigurationsdateien des `opsi-package-updater` und `opsi-product-updater` gleichen sich.
Allerdings versteht nur der 'opsi-package-updater' neu hinzugekommene Optionen.

Es ist möglich eine für das Werkzeug `opsi-product-updater` erstellte Konfigurationsdatei weiter zu verwenden.

Zum Weiterverwenden einer alten Konfigurationsdatei rufen Sie den `opsi-package-updater` mit der zusätzlichen Option `--config /etc/opsi/opsi-product-updater.conf` auf.


[[opsi-releasenotes-4.1-changes-opsi-makepackage]]
== Neues Werkzeug 'opsi-makepackage'

In opsi 4.1 wird das aus vorherigen Versionen bekannten Werkzeug `opsi-makeproductfile` durch das Werkzeug `opsi-makepackage` ersetzt.

Der neue Name soll den Unterschied zwischen einem Produkt und einem Paket verdeutlichen.
Die aus opsi 4.0 bekannten Kommandozeilenparameter können wie zuvor verwendet werden.

`opsi-makepackage` wird standardmäßig bei der Erstellung eines Pakets Prüfsummendateien erstellen.
Über die Schalter `--no-md5` bzw. `--no-zsync` kann dieses Verhalten deaktiviert werden.

[[opsi-releasenotes-4.1-changes-workbench]]
== Neuer Pfad der Workbench

Das Workbench-Verzeichnis wird bei Neu-Installationen standardmäßig unter
`/var/lib/opsi/workbench` angelegt.
Dadurch ergibt sich ein einheitlicher Aufbau von opsi auf unterschiedlichen Systemen und das Backup einer kompletten opsi-Installation wird vereinfacht.

Es ist möglich über das Depot-Attribut `workbenchLocalUrl` den verwendeten Pfad anzupassen.

Bei dem Update einer bestehenden Installation wird im Rahmen des Backend-Updates der Wert dieses Attributs auf `/home/opsiproducts` für existierende Depotserver gesetzt.
Auf SUSE-artigen Betriebssystemen wird von `/var/lib/opsi/workbench` als Verzeichnis ausgegangen und dieses gesetzt.
Bei Misch-Installationen muss gegebenenfalls eine nachträgliche, manuelle Anpassung erfolgen.

Ein automatischer Umzug vorhandener Daten aus dem alten Workbench-Verzeichnis findet nicht statt.


[[opsi-releasenotes-4.1-changes-wake-on-lan-ports]]
== Konfigurierbare Ports für Wake-On-LAN

Es ist nun möglich für jede Broadcast-Adresse die für Wake-On-LAN zu verwendenden Ports zu konfigurieren.

Dabei hat sich das Format für 'broadcastAddresses' in der Konfigurationsdatei `/etc/opsi/backends/hostcontrol.conf` verändert.
Es wird nun das folgende Format verwendet:

[source,json]
----
"broadcastAddresses": {
	# the format used is: 'address' : [port1, port2, ...]
	"255.255.255.255": [7, 9, 12287],
}
----

Wird das Format von opsi 4.0 vorgefunden, so wird in den opsiconfd-Logs darauf hingewiesen, wie diese im neuen Format aussehen sollen.
Die Konfigurationsdatei wird nicht automatisch angepasst.

Im Backend wird das alte Format automatisch konvertiert und dabei wird standardmäßig der Port 12287 verwendet.
In opsi 4.0 wurde nur Port 12287 verwendet.
Die Konfigurationsdatei `/etc/opsi/backends/hostcontrol.conf` muss manuell angepasst werden.


[[opsi-releasenotes-4.1-changes-changed-defaults]]
== Geänderte Standardeinstellungen

Mit opsi 4.1 wurden einige Standard-Einstellungen geändert, um Erfahrungen aus dem opsi-Betrieb wiederzuspiegeln.

Wichtig ist dies vorallem, wenn in einer bestehenden Umgebung neue opsi-Server installiert werden, da sich diese unter Umständen anders verhalten.

* Für den opsiconfd wurde die Einstellung `update ip` auf `yes` gestellt.
* In der Datei 'dispatch.conf' wird nun von der Verwendug des mysql-Backends zur Inventarisierung ausgegangen.


[[opsi-releasenotes-4.1-changes-python-27]]
== Python 2.7 als Voraussetzung

Es wird die Verwendung von Python 2.7 vorausgesetzt.
Ältere Versionen werden nicht mehr unterstützt.


[[opsi-releasenotes-4.1-changes-systemd]]
== systemd als Init-System

opsi 4.1 wird auf systemd als Init-System setzen.
Andere Init-Systeme werden offiziell nicht mehr unterstützt.

[[opsi-releasenotes-4.1-changes-tftpd-hpa]]
== opsi-tftpd-hpa als neues TFTP Daemon

opsi 4.1 wechelt von opsi-atftpd zu opsi-tftpd-hpa. Der opsi-tftpd-hpa unterstützt, wie der opsi-atftpd, `named pipes` und ermöglicht es Dateien von mehr als 90 MiB zu übertragen.

[[opsi-releasenotes-4.1-changes-http-headers]]
== HTTP header 'content-type'

Bei Kommunikation mit einem opsi 4.0 Webservice, liefert dieser
einen HTTP-Header _content-type_ welcher nicht zum tatsächlichen Inhalt
passt.
Mit opsi 4.1 ist ein link:https://www.ietf.org/rfc/rfc2616.txt[RFC 2616] compatibles Verhalten immer gegeben.
Dieses Verhalten war in opsi 4.0 optional.


// [[opsi-4.1-releasenotes-opsi-configed]]
// == Verbesserungen am '{opsi-configed}'

// TBD


[[opsi-4.1-releasenotes-linux]]
== Linuxsupport

=== Supportmatrix

include::../common/opsi_manual_supportmatrix-linclient.asciidoc[]

[[opsi-4.1-releasenotes-netboot-windows]]
== opsi Support Matrix Windows Clients

Im folgenden finden Sie eine Übersicht auf welchen Windows Plattformen opsi
als Client läuft.

include::../common/opsi_manual_supportmatrix-winclient.asciidoc[]

[[opsi-4.1-releasenotes-python-opsi]]
== Änderungen in python-opsi

=== Wegfall der Versions-Datei

Die Datei `/etc/opsi/version` wird nicht mehr verwendet.

Wird Python verwendet, so liefert `OPSI.__version__` die verwendete Version.
Das kann genutzt werden, um mit dem folgenden Befehl zu prüfen ob opsi 4.1 zum Einsatz kommt:
[source,prompt]
----
$ python -c "from OPSI import __version__ as v; print(v)"
----

Wird opsi 4.0 eingesetzt, so ist der exit code `1`, beim Einsatz von opsi 4.1 ist er `0`.

Weiterhin kann über die Backend-Methode 'backend_info' die Version der verwendeten Python-library abgerufen werden.

[source,prompt]
----
$ opsi-admin -d method backend_info | grep opsiVersion
"opsiVersion" : "4.1.1.6",
----


[[opsi-4.1-releasenotes-misc]]
== Sonstiges

* Aus `opsi-makeproductfile` wird `opsi-makepackage`.

* `opsi-makepackage` wird automatisch ergänzende .md5 und .zsync-Dateien bei der Erstellung eines Pakets generieren. Die kann durch `--no-md5` bzw. `--no-zsync` unterdrückt werden.

* `opsi-newprod` wird aus den angegeben Dateinamen für die einzelnen Aktionen automatisch neue leere Dateien erstellen.

[[opsi-4.1-releasenotes-misc-changelogs]]
== Changelogs


[[opsi-4.1-releasenotes-misc-changelogs-l-opsi-server]]
=== Changelog l-opsi-server

l-opsi-server (4.1.0.1-7); stable; urgency=low

  * UCS installation order: standard tools, UCS specials, roles specific installation, tools provided by us.

 - Niko Wenselowski <n.wenselowski@uib.de> Mon, 13 Nov 2017 12:24:00 +0100

l-opsi-server (4.1.0.1-6); stable; urgency=low

  * UCS additions

 -- Mathias Radtke <m.radtke@uib.de> Wed, 09 Nov 2017 12:43:00 +0100

l-opsi-server 4.1.0.1-5; stable; urgency=low

  * opsi-tftpd-hpa is now opsi-tftpd

--Mathias Radtke <m.radtke@uib.de> Mon, 02 Oct 2017 09:55:00 +0200

l-opsi-server 4.1.0.1-4; stable; urgency=low

  * removed digitec-opsi-listener from UCS dependencies
  * Removed debian6 compatability
  * added OpenSUSE Leap42.3 compatability
  * SLES12 SP3 compatability added

-- Mathias Radtke <m.radtke@uib.de> Wed, 13 Sep 2017 07:55:00 +0200

l-opsi-server 4.1.0.1-3; stable; urgency=low

  * corrected RPM based repo file access

-- Mathias Radtke <m.radtke@uib.de> Fri, 21 Jul 2017 13:53:00 +0200

l-opsi-server 4.1.0.1-2; stable; urgency=low

  * new property: ucs_master_admin_password

 -- Mathias Radtke <m.radtke@uib.de> Tue, 11 Jul 2017 09:00 +0200

l-opsi-server 4.1.0.1-1; stable; urgency=low

  * replaced opsi-atftpd with tftpd-hpa


[[opsi-4.1-releasenotes-misc-changelogs-l-opsi-server-migrate]]
=== Changelog l-opsi-server-migrate

l-opsi-server-migrate 4.1.1-2; stable: urgency=low

  * Automatic backend migration on systems that require it.

 -- Niko Wenselowski <n.wenselowski@uib.de> Tue 16 Nov 2017 11:16:37 +0100

l-opsi-server-migrate 4.1.1-1; stable: urgency=low

  * Cleaned up migration script.

 -- Niko Wenselowski <n.wenselowski@uib.de> Tue 16 Nov 2017 11:16:37 +0100


[[opsi-4.1-releasenotes-misc-changelogs-opsi4ucs]]
=== Changelog opsi4ucs

opsi4ucs (4.1.1.4-6) testing; urgency=medium

  * Automatic backend update for installations coming from versions
    lower than opsi 4.1.

 -- Niko Wenselowski <n.wenselowski@uib.de>  Mon, 13 Nov 2017 10:03:15 +0100

opsi4ucs (4.1.1.4-5) experimental; urgency=medium

  * Join-script: removed tftpd configuarion
  * Join-script: removed opsi-linux-bootimage linking

 -- Mathias Radtke <m.radtke@uib.de>  Wed, 08 Nov 2017 09:10:16 +0100

opsi4ucs (4.1.1.4-4) testing; urgency=medium

  * Join-script: automatically creating /etc/opsi/opsiconfd.pem.

 -- Niko Wenselowski <n.wenselowski@uib.de>  Tue, 07 Nov 2017 15:39:00 +0100

opsi4ucs (4.1.1.4-3) testing; urgency=medium

  * Join-script: making use of the "service" command.

 -- Niko Wenselowski <n.wenselowski@uib.de>  Tue, 07 Nov 2017 13:47:02 +0100

opsi4ucs (4.1.1.4-2) testing; urgency=medium

  * Join-script: small output change.

 -- Niko Wenselowski <n.wenselowski@uib.de>  Tue, 07 Nov 2017 13:18:04 +0100

opsi4ucs (4.1.1.4-1) testing; urgency=medium

  * Added missing import in opsi-setup.

 -- Niko Wenselowski <n.wenselowski@uib.de>  Tue, 07 Nov 2017 12:04:48 +0100

opsi4ucs (4.1.1.3-6) testing; urgency=medium

  * Join-script: Correct check if mysql is already setup.

 -- Niko Wenselowski <n.wenselowski@uib.de>  Tue, 07 Nov 2017 11:58:42 +0100

opsi4ucs (4.1.1.3-5) testing; urgency=medium

  * Join-script: first check for mysql configuration in dispatch.conf and
    then for possibility to automatic configuration.

 -- Niko Wenselowski <n.wenselowski@uib.de>  Tue, 07 Nov 2017 10:51:25 +0100

opsi4ucs (4.1.1.3-4) testing; urgency=medium

  * Join-Script attempts to auto-configure mysql during setup.

 -- Niko Wenselowski <n.wenselowski@uib.de>  Tue, 07 Nov 2017 10:22:47 +0100

opsi4ucs (4.1.1.3-3) testing; urgency=medium

  * based on 4.0.7.5-8.

 -- Niko Wenselowski <n.wenselowski@uib.de>  Mon, 06 Nov 2017 11:36:22 +0100

opsi4ucs (4.1.1.3-2) testing; urgency=medium

  * Locating opsi_workbench at /var/lib/opsi/workbench.

 -- Niko Wenselowski <n.wenselowski@uib.de>  Fri, 21 Jul 2017 10:23:20 +0200

opsi4ucs (4.1.1.3-1) testing; urgency=medium

  * Fix problem with depot registration.

 -- Niko Wenselowski <n.wenselowski@uib.de>  Fri, 21 Jul 2017 10:08:09 +0200

opsi4ucs (4.1.1.2-1) testing; urgency=medium

  * Depending on opsi 4.1 packages.
  * Many internal refactorings to re-use functionality present in python-opsi.
  * Using new method for updating the file backend for opsi 4.1.
  * Server setup does take the new workbench attributes into account.

 -- Niko Wenselowski <n.wenselowski@uib.de>  Fri, 30 Jun 2017 16:34:06 +0200

opsi4ucs (4.1.1.1-2) testing; urgency=medium

  * Merged changes from opsi4ucs 4.0.7.4.

 -- Niko Wenselowski <n.wenselowski@uib.de>  Thu, 22 Jun 2017 16:49:13 +0200

opsi4ucs (4.1.1.1-1) stable; urgency=medium

  * Remove references to obsolete LDAP support.
    This removes support for --update-ldap and --update-univention.

 -- Niko Wenselowski <n.wenselowski@uib.de>  Tue, 24 Jan 2017 18:57:38 +0100


[[opsi-4.1-releasenotes-misc-changelogs-opsiconfd]]
=== Changelog opsiconfd

opsiconfd (4.1.1.10-1) stable; urgency=medium

  * Based source on 4.0.7.14.

 -- Niko Wenselowski <n.wenselowski@uib.de>  Fri, 03 Nov 2017 12:30:05 +0100

opsiconfd (4.1.1.9-1) stable; urgency=medium

  * postinst: The generated cert now uses 2048 bits.
  * Based source on 4.0.7.13.

 -- Niko Wenselowski <n.wenselowski@uib.de>  Mon, 31 Jul 2017 12:48:57 +0200

opsiconfd (4.1.1.8-1) stable; urgency=medium

  * Basing source on opsiconfd 4.0.7.10-1.

 -- Niko Wenselowski <n.wenselowski@uib.de>  Wed, 12 Jul 2017 15:24:52 +0200

opsiconfd (4.1.1.7-1) testing; urgency=medium

  * Removed obsolete configed.gif reference from JNLP template.

 -- Niko Wenselowski <n.wenselowski@uib.de>  Fri, 30 Jun 2017 16:56:08 +0200

opsiconfd (4.1.1.6-1) testing; urgency=medium

  * Removed unnecessary shebangs.
  * Removed socket for interprocess communication.
  * Small refactoring to the update of a client ip address.
  * Internal refactorings.

 -- Niko Wenselowski <n.wenselowski@uib.de>  Wed, 21 Jun 2017 16:25:16 +0200

opsiconfd (4.1.1.5-13) testing; urgency=medium

  * Removed obsolete logrotate configuration fix.
  * Debian-based distros: drop build requirement python-support.

 -- Niko Wenselowski <n.wenselowski@uib.de>  Fri, 19 May 2017 11:53:50 +0200

opsiconfd (4.1.1.5-12) testing; urgency=medium

  * RPM: fix call to possibly undefined name.
  * RPM: drop a distribution-based switch.

 -- Niko Wenselowski <n.wenselowski@uib.de>  Thu, 18 May 2017 16:11:53 +0200

opsiconfd (4.1.1.5-11) testing; urgency=medium

  * Debian-based distros: depend on systemd.
  * Debian-based distros: no more calls to update-rc.d.
  * opsiconfd.service: execute mkdir with -p.

 -- Niko Wenselowski <n.wenselowski@uib.de>  Thu, 18 May 2017 14:27:28 +0200

opsiconfd (4.1.1.5-10) testing; urgency=medium

  * RPM: No pre-macro for systemd under CentOS / RHEL.

 -- Niko Wenselowski <n.wenselowski@uib.de>  Thu, 18 May 2017 13:24:38 +0200

opsiconfd (4.1.1.5-9) testing; urgency=medium

  * RPM: Add switch to systemd macros because not every RPM distribution
    is the same.

 -- Niko Wenselowski <n.wenselowski@uib.de>  Thu, 18 May 2017 12:17:27 +0200

opsiconfd (4.1.1.5-8) testing; urgency=medium

  * RPM: Fix call to macro in %pre.

 -- Niko Wenselowski <n.wenselowski@uib.de>  Thu, 18 May 2017 09:55:46 +0200

opsiconfd (4.1.1.5-7) testing; urgency=medium

  * RPM: listing opsiconfd.service as normal file.

 -- Niko Wenselowski <n.wenselowski@uib.de>  Thu, 18 May 2017 09:40:50 +0200

opsiconfd (4.1.1.5-6) testing; urgency=medium

  * RPM: do not mark opsiconfd.service as a config.
  * RPM: added %pre section for better service integration.
  * opsiconfd.info: Dropped shebang line.
  * Added dependency to logrotate.

 -- Niko Wenselowski <n.wenselowski@uib.de>  Thu, 18 May 2017 09:30:33 +0200

opsiconfd (4.1.1.5-5) testing; urgency=medium

  * RPM: Removed call to old macro.
  * RPM: Fixed syntax-error in postun
  * RPM: Removed manual service removal.
  * RPM: Cleanup of duplicate actions.
  * RPM: rely on systemctl for service actions.

 -- Niko Wenselowski <n.wenselowski@uib.de>  Wed, 17 May 2017 17:31:35 +0200

opsiconfd (4.1.1.5-4) testing; urgency=medium

  * RPM: Removed obosolete references to insserv and chkconfig.

 -- Niko Wenselowski <n.wenselowski@uib.de>  Wed, 17 May 2017 17:18:09 +0200

opsiconfd (4.1.1.5-3) testing; urgency=medium

  * RPM: Correct the usage of the systemd_requires macro.

 -- Niko Wenselowski <n.wenselowski@uib.de>  Wed, 17 May 2017 17:03:23 +0200

opsiconfd (4.1.1.5-2) testing; urgency=medium

  * RPM: fix wrong indentation on SUSE.

 -- Niko Wenselowski <n.wenselowski@uib.de>  Wed, 17 May 2017 16:49:30 +0200

opsiconfd (4.1.1.5-1) testing; urgency=medium

  * Switch to systemd for providing the service.
  * Drop helper scripts only used for SysV init.
  * setup.py: Create the opsiconfd script as an entry point.
  * setup.py: Set the version of opsiconfd based on changelog.

 -- Niko Wenselowski <n.wenselowski@uib.de>  Wed, 17 May 2017 16:07:27 +0200

opsiconfd (4.1.1.4-1) testing; urgency=medium

  * Info page: fix bug that prevented rendering.

 -- Niko Wenselowski <n.wenselowski@uib.de>  Wed, 26 Apr 2017 13:34:34 +0200

opsiconfd (4.1.1.3-1) testing; urgency=medium

  * Drop support for avahi / zeroconf.
  * Interface page is now only accessible for admins.
  * Added config option for accepted ciphers to opsiconfd.conf.
  * Info page: show versions of opsiconfd and python-opsi.
  * opsiconfd now requires at least Python 2.7.

 -- Niko Wenselowski <n.wenselowski@uib.de>  Wed, 26 Apr 2017 11:37:21 +0200

opsiconfd (4.1.1.2-2) testing; urgency=medium

  * systemd: Automatically restart service on failure.

 -- Niko Wenselowski <n.wenselowski@uib.de>  Wed, 29 Mar 2017 17:43:04 +0200

opsiconfd (4.1.1.2-1) experimental; urgency=medium

  * Removed more obsolete code.

 -- Niko Wenselowski <n.wenselowski@uib.de>  Fri, 27 Jan 2017 15:14:05 +0100

opsiconfd (4.1.1.1-1) experimental; urgency=medium

  * Using absolute imports.
  * Info page uses now generators for site generation.
  * Python 3 compatible octal values.
  * opsiconfd.conf: Update ip now defaults to yes.
  * Removed references to old message bus implementation.
  * Refactored monitoring module.
  * Removed unsupported multiprocessing option.

 -- Niko Wenselowski <n.wenselowski@uib.de>  Fri, 16 Sep 2016 12:12:24 +0200


[[opsi-4.1-releasenotes-misc-changelogs-opsipxeconfd]]
=== Changelog opsipxeconfd

opsipxeconfd (4.1.1.4-2) experimental; urgency=medium

  * .deb postinst: patching directories of opsipxeconfd.conf on UCS system

 -- Mathias Radtke <m.radtke@uib.de>  Wed, 08 Nov 2017 08:20:13 +0100

opsipxeconfd (4.1.1.4-1) stable; urgency=medium

  * Base code on 4.0.7.9-1.
  * Make use of OPSI.Config.
  * .deb postinst: Enable opsipxeconfd by default.

 -- Niko Wenselowski <n.wenselowski@uib.de>  Mon, 06 Nov 2017 12:09:47 +0100

opsipxeconfd (4.1.1.3-1) stable; urgency=medium

  * Base code on 4.0.7.8-3.

 -- Niko Wenselowski <n.wenselowski@uib.de>  Mon, 31 Jul 2017 10:32:59 +0200

opsipxeconfd (4.1.1.2-1) testing; urgency=medium

  * Added configuration options "uefi netboot config template x86" and
    "uefi netboot config template x64" to config file.

 -- Niko Wenselowski <n.wenselowski@uib.de>  Tue, 20 Jun 2017 10:33:01 +0200

opsipxeconfd (4.1.1.1-12) testing; urgency=medium

  * RPM: Capitalize summary.

 -- Niko Wenselowski <n.wenselowski@uib.de>  Fri, 19 May 2017 13:16:10 +0200

opsipxeconfd (4.1.1.1-11) testing; urgency=medium

  * RPM: refactor start / restart of service in postinst.

 -- Niko Wenselowski <n.wenselowski@uib.de>  Fri, 19 May 2017 12:37:54 +0200

opsipxeconfd (4.1.1.1-10) testing; urgency=medium

  * RPM: remove obsolete listing of initscript.

 -- Niko Wenselowski <n.wenselowski@uib.de>  Fri, 19 May 2017 12:28:03 +0200

opsipxeconfd (4.1.1.1-9) testing; urgency=medium

  * RPM: Reference correct path.

 -- Niko Wenselowski <n.wenselowski@uib.de>  Fri, 19 May 2017 12:15:24 +0200

opsipxeconfd (4.1.1.1-8) testing; urgency=medium

  * Switch to systemd for providing the service.

 -- Niko Wenselowski <n.wenselowski@uib.de>  Fri, 19 May 2017 12:06:53 +0200

opsipxeconfd (4.1.1.1-7) experimental; urgency=medium

  * depends on opsi-tftpd

 -- Mathias Radtke <m.radtke@uib.de>  Wed, 10 May 2017 10:13:31 +0200

opsipxeconfd (4.1.1.1-6) testing; urgency=medium

  * systemd service file: added automatic restart on failure.

 -- Niko Wenselowski <n.wenselowski@uib.de>  Thu, 30 Mar 2017 09:56:11 +0200

opsipxeconfd (4.1.1.1-5) experimental; urgency=medium

  * spec: tftp-hpa-server -> opsi-tftp-hpa-server

 -- Mathias Radtke <m.radtke@uib.de>  Mon, 20 Mar 2017 16:12:51 +0100

opsipxeconfd (4.1.1.1-4) experimental; urgency=medium

  * opsipxeconfd.spec: tftpd-hpa -> tftp-hpa-server

 -- Mathias Radtke <m.radtke@uib.de>  Mon, 06 Feb 2017 10:38:27 +0100

opsipxeconfd (4.1.1.1-3) testing; urgency=medium

  * Merged packaging fixes from opsi 4.0.7.

 -- Niko Wenselowski <n.wenselowski@uib.de>  Mon, 30 Jan 2017 12:32:10 +0100

opsipxeconfd (4.1.1.1-2) experimental; urgency=medium

  * removed opsi-atftpd dependency -> tftpd-hpa

 -- Mathias Radtke <m.radtke@uib.de>  Fri, 06 Jan 2017 09:56:00 +0100

opsipxeconfd (4.1.1.1-1) experimental; urgency=medium

  * Sharing more code with python-opsi.

 -- Niko Wenselowski <n.wenselowski@uib.de>  Fri, 02 Dec 2016 11:04:06 +0100


[[opsi-4.1-releasenotes-misc-changelogs-opsi-linux-bootimage]]
=== Changelog opsi-linux-bootimage

opsi-linux-bootimage (20171114-1) experimental; urgency=medium

  * starting getty@ttyS0 when /dev/ttyS0 is present
  * added thunderbolt driver

 -- Mathias Radtke <m.radtke@uib.de>  Tue, 14 Nov 2017 14:50:23 +0100

opsi-linux-bootimage (20171108-1) experimental; urgency=medium

  * corrected moving files and removing directory link on existing UCS systems
  * postinst; UCS: moving files instead of linking

 -- Mathias Radtke <m.radtke@uib.de>  Wed, 08 Nov 2017 11:07:35 +0100

opsi-linux-bootimage (20171018-1) experimental; urgency=medium

  * kernel 4.13.6
  * added smbv1 fallback if smbv3 mount fails

 -- Mathias Radtke <m.radtke@uib.de>  Thu, 12 Oct 2017 16:47:47 +0200

opsi-linux-bootimage (20171002-1) experimental; urgency=medium

  * master.py: imports - one per line
  * master.py: imports first
  * master.py: using os.path.join

 -- Mathias Radtke <m.radtke@uib.de>  Mon, 25 Sep 2017 16:11:56 +0200

opsi-linux-bootimage (20170913-1) experimental; urgency=medium

  * kernel 4.13.1
  * python-opsi updated (4.1.1.17-1)

 -- Mathias Radtke <m.radtke@uib.de>  Wed, 13 Sep 2017 12:31:20 +0200

opsi-linux-bootimage (20170725-1) experimental; urgency=medium

  * serial driver is now modular

 -- Mathias Radtke <m.radtke@uib.de>  Wed, 19 Jul 2017 15:49:02 +0200

opsi-linux-bootimage (20170714-1) experimental; urgency=medium

  * kernel 4.12.1
  * disabled ipmi_watchdog driver

 -- Mathias Radtke <m.radtke@uib.de>  Thu, 13 Jul 2017 15:24:19 +0200

opsi-linux-bootimage (20170713-1) experimental; urgency=medium

  * refactored master.py

 -- Mathias Radtke <m.radtke@uib.de>  Wed, 12 Jul 2017 15:00:07 +0200

opsi-linux-bootimage (20170703-1) experimental; urgency=medium

  * kernel 4.11.5

 -- Mathias Radtke <m.radtke@uib.de>  Mon, 03 Jul 2017 11:35:12 +0200

opsi-linux-bootimage (20170517-1) experimental; urgency=medium

  * refactored master.py

 -- Mathias Radtke <m.radtke@uib.de>  Wed, 17 May 2017 13:51:55 +0200

opsi-linux-bootimage (20170713-2) experimental; urgency=medium

  * version bump

 -- Mathias Radtke <m.radtke@uib.de>  Thu, 13 Jul 2017 08:33:50 +0200

opsi-linux-bootimage (20170713-1) experimental; urgency=medium

  * disabled watchdog driver
  * added intel_pmc driver
  * added tpm_crb driver

 -- Mathias Radtke <m.radtke@uib.de>  Tue, 11 Jul 2017 14:38:04 +0200

opsi-linux-bootimage (20170620-1) testing; urgency=medium

  * kernel 4.11.5

 -- Mathias Radtke <m.radtke@uib.de>  Tue, 20 Jun 2017 14:38:04 +0200

opsi-linux-bootimage (20170508-1) testing; urgency=medium

  * Serial driver 8250 built-in
  * enabled serial-getty@ttyS0 on boot

 -- Mathias Radtke <m.radtke@uib.de>  Mon, 08 May 2017 14:38:22 +0200

opsi-linux-bootimage (20170502-1) experimental; urgency=medium

  * fixed false positive when using nodhcp in cmdline

 -- Mathias Radtke <m.radtke@uib.de>  Tue, 02 May 2017 14:24:25 +0200

opsi-linux-bootimage (20170407-2) experimental; urgency=medium

  * RPM messup

 -- Mathias Radtke <m.radtke@uib.de>  Fri, 07 Apr 2017 11:52:54 +0200

opsi-linux-bootimage (20170407-1) experimental; urgency=medium

  * added Splashscreen
  * added success notification
  * added failure notification

 -- Mathias Radtke <m.radtke@uib.de>  Fri, 07 Apr 2017 10:51:07 +0200

opsi-linux-bootimage (20170405-1) experimental; urgency=medium

  * removed user user
  * CD ISO has sshd disabled by default
  * kernel 4.10.8

 -- Mathias Radtke <m.radtke@uib.de>  Wed, 05 Apr 2017 14:27:19 +0200

opsi-linux-bootimage (20170320-1) experimental; urgency=medium

  * python-opsi_4.1.1.3-1

 -- Mathias Radtke <m.radtke@uib.de>  Mon, 20 Mar 2017 10:51:02 +0100

opsi-linux-bootimage (20170316-1) experimental; urgency=medium

  * 4.1 build

 -- Mathias Radtke <m.radtke@uib.de>  Thu, 16 Mar 2017 14:33:45 +0100


[[opsi-4.1-releasenotes-misc-changelogs-opsi-server]]
=== Changelog opsi-server

opsi-server (4.1.1.4-5) testing; urgency=medium

  * RPM: CentOS / RHEL do not support Suggests. Removed for these distros.

 -- Niko Wenselowski <n.wenselowski@uib.de>  Mon, 09 Oct 2017 18:03:02 +0200

opsi-server (4.1.1.4-4) testing; urgency=medium

  * Removed hard dependency for MySQL / MariaDB because it is not necessary
    to have them installed if the server is using jsonrpc as backend.

 -- Niko Wenselowski <n.wenselowski@uib.de>  Mon, 09 Oct 2017 16:02:22 +0200

opsi-server (4.1.1.4-3) testing; urgency=medium

  * Depending on server for MySQL / MariaDB as the default dispatch.conf
    now relies on this.

 -- Niko Wenselowski <n.wenselowski@uib.de>  Wed, 06 Sep 2017 12:45:12 +0200

opsi-server (4.1.1.4-2) testing; urgency=medium

  * Listing all required folders as part of the package.

 -- Niko Wenselowski <n.wenselowski@uib.de>  Fri, 21 Jul 2017 13:44:19 +0200

opsi-server (4.1.1.4-1) testing; urgency=medium

  * Fix bug preventing interactive depot registration.

 -- Niko Wenselowski <n.wenselowski@uib.de>  Fri, 21 Jul 2017 09:49:55 +0200

opsi-server (4.1.1.3-2) testing; urgency=medium

  * Creating /var/lib/opsi/workbench through the package.
  * Removed automatic backend updates from the postinst as this breaks
    the intended backend updates. Administrators need to manually migrate.

 -- Niko Wenselowski <n.wenselowski@uib.de>  Tue, 04 Jul 2017 15:03:50 +0200

opsi-server (4.1.1.3-1) testing; urgency=medium

  * Adjusting import for getServerAddress.

 -- Niko Wenselowski <n.wenselowski@uib.de>  Fri, 30 Jun 2017 16:18:36 +0200

opsi-server (4.1.1.2-2) testing; urgency=medium

  * Providing module header for opsi-setup.

 -- Niko Wenselowski <n.wenselowski@uib.de>  Fri, 30 Jun 2017 15:23:37 +0200

opsi-server (4.1.1.2-1) testing; urgency=medium

  * Depending on opsi 4.1 packages.
  * Many internal refactorings to re-use functionality present in python-opsi.
  * Using new method for updating the file backend for opsi 4.1.
  * Server setup does take the new workbench attributes into account.

 -- Niko Wenselowski <n.wenselowski@uib.de>  Fri, 30 Jun 2017 13:46:13 +0200

opsi-server (4.1.1.1-6) experimental; urgency=medium

  * depending on opsi-tftpd

 -- Mathias Radtke <m.radtke@uib.de>  Wed, 10 May 2017 09:48:35 +0200

opsi-server (4.1.1.1-5) experimental; urgency=medium

  * Renamed package to opsi-server.
  * .deb: Depend on opsi-tftpd-hpa
  * .rpm: Depend on opsi-tftp-hpa-server

 -- Niko Wenselowski <n.wenselowski@uib.de>  Mon, 20 Mar 2017 10:08:10 +0100

opsi-depotserver (4.1.1.1-4) experimental; urgency=medium

  * depending on python-opsi 4.1.1.1-1

 -- Mathias Radtke <m.radtke@uib.de>  Tue, 07 Feb 2017 16:11:24 +0100

opsi-depotserver (4.1.1.1-3) stable; urgency=medium

  * opsi-depotserver.spec: fixed broken spec file

 -- Mathias Radtke <m.radtke@uib.de>  Wed, 25 Jan 2017 09:50:00 +0100

opsi-depotserver (4.1.1.1-2) stable; urgency=medium

  * replaced opsi-atftp with tftp-hpa

 -- Mathias Radtke <m.radtke@uib.de>  Wed, 25 Jan 2017 08:45:00 +0100

opsi-depotserver (4.1.1.1-1) stable; urgency=medium

  * Remove references to obsolete LDAP support.
    This removes support for --update-ldap and --update-univention.

 -- Niko Wenselowski <n.wenselowski@uib.de>  Tue, 24 Jan 2017 18:58:53 +0100


[[opsi-4.1-releasenotes-misc-changelogs-opsi-utils]]
=== Changelog opsi-utils

opsi-utils (4.1.1.14-1) stable; urgency=medium

  * opsi-package-updater: Improve working with repositories that have their
    listings generated through Apache autoindex by making sure each link is
    only collected once.

 -- Niko Wenselowski <n.wenselowski@uib.de>  Tue, 10 Oct 2017 17:54:34 +0200

opsi-utils (4.1.1.13-1) stable; urgency=medium

  * opsi-package-updater: Moved fix for handling IIS repos
    for easier re-usability.
  * opsi-package-updater: Error messages about incomplete repository
    configurations will now contain the path to the corresponding .repo file.
  * opsi-package-updater: Added switch --use-inactive-repository that allows
    to temporarily use a disabled repository.
  * opsi-admin: Remove unnecessary statement.

 -- Niko Wenselowski <n.wenselowski@uib.de>  Tue, 10 Oct 2017 17:13:40 +0200

opsi-utils (4.1.1.12-1) stable; urgency=medium

  * opsi-package-updater repositories: Configured repositories for 4.1.
    Added repo configs for testing and experimental - disabled by default.

 -- Niko Wenselowski <n.wenselowski@uib.de>  Wed, 06 Sep 2017 12:04:59 +0200

opsi-utils (4.1.1.11-1) testing; urgency=medium

  * opsi-package-updater: Added option to search for product.
  * opsi-package-updater: If listing the packages in a repository fails
    this repository will be skipped.
  * opsi-package-updater: Encountering an error during the processing
    will lead to a non-zero exit code.
  * opsi-package-updater: Removed --use-existing-checksum as this is
    the default setting.
  * opsi-package-updater: repo 'master' has been renamed to 'primary'.
  * opsi-package-updater: Messages will show the repo name instead of
    base url for easier identification.
  * opsi-package-updater: Renamed the mode 'repo' to 'list' and also
    changed the name of some arguments.
  * opsi-package-updater: Added 'list --product-differences' to show
    differences between local and remote product versions.

 -- Niko Wenselowski <n.wenselowski@uib.de>  Wed, 26 Jul 2017 12:35:08 +0200

opsi-utils (4.1.1.10-1) testing; urgency=medium

  * opsi-backup, opsi-convert, opsi-makepackage, opsi-package-updater:
    Fix bug where giving the log-level was impossible.

 -- Niko Wenselowski <n.wenselowski@uib.de>  Mon, 10 Jul 2017 14:03:48 +0200

opsi-utils (4.1.1.9-1) testing; urgency=medium

  * opsi-package-manager: option -s added to set setup with dependencies

 -- Erol Ueluekmen <e.ueluekmen@uib.de>  Thu, 22 Jun 2017 14:19:44 +0200

opsi-utils (4.1.1.8.1-4) testing; urgency=medium

  * .deb: Deploy correct manpages.

 -- Niko Wenselowski <n.wenselowski@uib.de>  Thu, 22 Jun 2017 12:41:12 +0200

opsi-utils (4.1.1.8.1-3) testing; urgency=medium

  * Fix syntax in manpage of opsi-makepackage.

 -- Niko Wenselowski <n.wenselowski@uib.de>  Thu, 22 Jun 2017 12:36:20 +0200

opsi-utils (4.1.1.8.1-2) testing; urgency=medium

  * Fixed creation of manpages.

 -- Niko Wenselowski <n.wenselowski@uib.de>  Thu, 22 Jun 2017 12:20:31 +0200

opsi-utils (4.1.1.8.1-1) testing; urgency=medium

  * Merged opsi-utils 4.0.7.15-1.

 -- Niko Wenselowski <n.wenselowski@uib.de>  Thu, 22 Jun 2017 12:12:53 +0200

opsi-utils (4.1.1.8-1) testing; urgency=medium

  * Adjusted import path for exceptions.
  * opsi-package-updater: Being less noisy if running with only -v.

 -- Niko Wenselowski <n.wenselowski@uib.de>  Wed, 21 Jun 2017 16:47:12 +0200

opsi-utils (4.1.1.7-1) testing; urgency=medium

  * opsi-package-updater now has a download-only mode accessible
    from the commandline.

 -- Niko Wenselowski <n.wenselowski@uib.de>  Mon, 29 May 2017 15:15:08 +0200

opsi-utils (4.1.1.6-1) testing; urgency=medium

  * opsi-product-updater has been renamed to opsi-package-updater to
    reflect that the syntax is very different.
    The configuration file is now opsi-package-updater.conf.
    The repository config files are now to be placed unter
    /etc/opsi/package-updater.repos.d/.
  * opsi-makeproductfile has been renamed to opsi-makepackage.

 -- Niko Wenselowski <n.wenselowski@uib.de>  Tue, 23 May 2017 17:20:53 +0200

opsi-utils (4.1.1.5-1) testing; urgency=medium

  * opsi-product-updater: Messages regarding zsync and md5 now include
    the productId to make it easier to find affected products.
  * opsi-product-updater: now able to show the updates that are present
    through the repo parameter --list-updatable.
  * opsi-product-updater: changed the default loglevel to WARNING.
  * opsi-product-updater: Re-classified the level of some logmessages
    to make the output more helpful.
  * opsi-product-updater: The notifier now also informs when packages
    get set to setup on clients or when clients are to be woken up
    through Wake-on-LAN.
  * opsi-makeproductfile: --zsync and --md5 are now the defaults.
    Added parameter ---no-zsync and --no-md5 to suppress creation.
  * opsi-newprod: Any file mentioned as a script for an action gets
    automatically created during the creation of the directories.

 -- Niko Wenselowski <n.wenselowski@uib.de>  Thu, 04 May 2017 18:01:38 +0200

opsi-utils (4.1.1.4-1) testing; urgency=medium

  * opsi-backup: removed unsupported parameter --mode.
  * opsi-product-updater: repositories will be identified by the name of the
    section minus the preceding 'repository_'.
  * opsi-product-updater: If a repository-section defines an attribut
    'description' this will be shown when listing repositories.
  * opsi-product-updater: renamed repo parameter --list-product-diffs
    to --list-product-and-installationstatus.
  * opsi-product-updater: to limit the actions 'update' and 'install' to
    specific products the option '--product-ids' must not be given anymore.
    Just specify the IDs of the product, ie:
    opsi-product-updater install opsi-winst opsi-client-agent
  * The applications now all acceppt --log-level to have an constant way of
    defining the desired log level.

 -- Niko Wenselowski <n.wenselowski@uib.de>  Mon, 06 Mar 2017 15:47:19 +0100

opsi-utils (4.1.1.3-1) testing; urgency=medium

  * opsi-backup: Work without removed OPSI.Util.Collections.

 -- Niko Wenselowski <n.wenselowski@uib.de>  Wed, 01 Feb 2017 11:30:25 +0100

opsi-utils (4.1.1.2-1) testing; urgency=medium

  * opsi-makeproductfile now supports long options.
  * opsi-product-updater: new option --list-product-diffs to show differences
    in versions between repository and local depot.
  * opsi-makeproductfile: removed support for opsi 3 compatible packages.
  * Removed support for python 2.6.
  * opsi-product-updater: 'repo' mode commands will always show output.
  * opsi-product-updater: Check for repo name is now case-insensitive.

 -- Niko Wenselowski <n.wenselowski@uib.de>  Fri, 27 Jan 2017 14:58:33 +0100

opsi-utils (4.1.1.1-2) experimental; urgency=medium

  * RPM: create product-updater.repos.d in install.

 -- Niko Wenselowski <n.wenselowski@uib.de>  Fri, 02 Dec 2016 11:34:14 +0100

opsi-utils (4.1.1.1-1) experimental; urgency=medium

  * opsi-product-updater: changed parsing of commandline options.
    "-i" has been replaced by "install". For the default behaviour please
    supply "update".
  * opsi-product-updater will load additional repository configs from
    /etc/opsi/product-updater.repos.d.
  * opsi-product-updater learned to list repositories and their products
    via "repo --list-active" and "repo --list-products".
  * opsi-backup uses the new methods introduced in python-opsi 4.1.
  * opsi-product-updater: the -p option now takes a list of items separated
    by space and not by comma (old behaviour).
  * opsi-product-updater: Repositories now can have a "name" set in
    configuration files.
  * opsi-product-updater: limit actions to a repository by specifying
    "--repo name_of_repo".

 -- Niko Wenselowski <n.wenselowski@uib.de>  Tue, 29 Nov 2016 13:57:13 +0100


[[opsi-4.1-releasenotes-misc-changelogs-python-opsi]]
=== Changelog python-opsi

python-opsi (4.1.1.20-1) stable; urgency=medium

  * Moved function getGlobalConfig from OPSI.Util to OPSI.Util.Config.
  * Calling OPSI.Util.getfqdn without explicit parameter as this resembles
    the default behaviour.

 -- Niko Wenselowski <n.wenselowski@uib.de>  Mon, 06 Nov 2017 15:02:03 +0100

python-opsi (4.1.1.19-1) stable; urgency=medium

  * spec: added python-setuptools workaround for sles12 + Leap

 -- Mathias Radtke <m.radtke@uib.de>  Fri, 13 Oct 2017 13:53:02 +0200

python-opsi (4.1.1.18-1) stable; urgency=medium

  * 45_deprecated.conf: Removed methods isLegacyOpsi, isOpsi35 and isOpsi4
    since there is no need for them.

 -- Niko Wenselowski <n.wenselowski@uib.de>  Wed, 27 Sep 2017 16:20:25 +0200

python-opsi (4.1.1.17-1) stable; urgency=medium

  * Added logging to host_renameOpsiClient.
  * host_renameOpsiDepotserver will now also change the workbenchRemoteUrl.
  * Added logging to host_renameOpsiDepotserver.
  * Internal refactorings in host_renameOpsiDepotserver.
  * OPSI.Backend.ConfigDataBackend: Added new method
    backend_getSystemConfiguration.

 -- Niko Wenselowski <n.wenselowski@uib.de>  Wed, 30 Aug 2017 13:05:56 +0200

python-opsi (4.1.1.16-1) stable; urgency=medium

  * OPSI.System.Posix: Added CommandNotFoundException to __all__.

 -- Niko Wenselowski <n.wenselowski@uib.de>  Mon, 31 Jul 2017 11:44:27 +0200

python-opsi (4.1.1.15-1) testing; urgency=medium

  * Improved rpm packaging.
  * Refactored OPSI.Util.compareVersions.
  * Refactored OPSI.Util.File.Opsi.HostKeyFile for faster writing.
  * OPSI.Util.File.Opsi.HostKeyFile: Do not crash when reading file with
    invalid format.

 -- Niko Wenselowski <n.wenselowski@uib.de>  Fri, 28 Jul 2017 15:20:43 +0200

python-opsi (4.1.1.14-3) testing; urgency=medium

  * Listing 45_deprecated.conf for rollout.
  * Debian: Removed leftovers from the pre-systemd-era.
  * postinst: Another change at removing /etc/opsi/version to make SLES
    happy.

 -- Niko Wenselowski <n.wenselowski@uib.de>  Thu, 13 Jul 2017 16:03:00 +0200

python-opsi (4.1.1.14-2) testing; urgency=medium

  * RPM: Removed leftovers from the pre-systemd-era.
  * postinst: Making sure that a failed attempt at removing /etc/opsi/version
    does not crash the postinst.

 -- Niko Wenselowski <n.wenselowski@uib.de>  Thu, 13 Jul 2017 15:47:25 +0200

python-opsi (4.1.1.14-1) testing; urgency=medium

  * OPSI.Util.File.Opsi.PackageContentFile.generate has been refactored to
    be easier to maintain.
  * OPSI.Backend.Backend: backend_info will log informations about a
    possibly missing modules file as info instead of warning.
  * postinst: only remove /etc/opsi/version if this file exists
  * Debian packaging: Remove leftover from python-support.

 -- Niko Wenselowski <n.wenselowski@uib.de>  Thu, 13 Jul 2017 15:17:49 +0200

python-opsi (4.1.1.13-1) testing; urgency=medium

  * OpsiBackup: Fix a bug where an attempt may be made to compare
    uncomparable types.

 -- Niko Wenselowski <n.wenselowski@uib.de>  Mon, 10 Jul 2017 17:57:43 +0200

python-opsi (4.1.1.12-1) testing; urgency=medium

  * OpsiBackup: Fix bug where differences between the archive and the current
    system are detected but there are none.

 -- Niko Wenselowski <n.wenselowski@uib.de>  Mon, 10 Jul 2017 13:53:23 +0200

python-opsi (4.1.1.11-2) testing; urgency=medium

  * dispatch.conf.default now uses a default setup that makes use of file
    for all data except for audit data which is stored in MySQL.

 -- Niko Wenselowski <n.wenselowski@uib.de>  Tue, 04 Jul 2017 16:15:53 +0200

python-opsi (4.1.1.11-1) testing; urgency=medium

  * OPSI.Util.Task.UpdateBackend.ConfigurationData.getServerAddress is
    now a public function.

 -- Niko Wenselowski <n.wenselowski@uib.de>  Fri, 30 Jun 2017 16:06:00 +0200

python-opsi (4.1.1.10-1) testing; urgency=medium

  * acl.conf.default: restricted the access to user_getCredentials and
    user_setCredentials.
  * New extension: 45_deprecated.conf. Methods in that extension will issue a
    warning when called. Calls to these functions should be replaced in the used clients as these functions will be removed in the future.
    Currently containing the functions isLegacyOpsi, isOpsi35 and isOpsi4.
  * Make it possible to configure the location of the workbench on
    OpsiDepotserver.
  * New module OPSI.Util.Task.InitializeBackend for backend setup.
  * New module OPSI.Util.Task.UpdateBackend.ConfigurationData for updating
    the configuration data in an existing backend.
  * New module OPSI.Config.
  * initializeBackends will set up new servers with remote URLs using IP
    except for UCS where FQDN is used by default.

 -- Niko Wenselowski <n.wenselowski@uib.de>  Fri, 30 Jun 2017 12:01:29 +0200

python-opsi (4.1.1.9-1) testing; urgency=medium

  * Remove obsolete reference to /etc/opsi/version when restoring a backup.
  * dhcpd.conf: Make the current Debian/Ubuntu dhcp settings the default.

 -- Niko Wenselowski <n.wenselowski@uib.de>  Tue, 27 Jun 2017 15:02:52 +0200

python-opsi (4.1.1.8-1) testing; urgency=medium

  * Fix a bug in OPSI.Util.objectToBash leading to an AttributeError.
  * Fix a bug in OPSI.Util.objectToBash where the reference to an result
    was incomplete.

 -- Niko Wenselowski <n.wenselowski@uib.de>  Thu, 22 Jun 2017 16:06:21 +0200

python-opsi (4.1.1.7-1) testing; urgency=medium

  * Exceptions have been moved from OPSI.Types to OPSI.Exceptions.
  * Remove leftover for Scientific Linux support.
  * Re-classified log-messages regarding the (un)installation of packages.
  * Post-installation /etc/opsi/version will be removed.
  * SQL backend: speed up retrieval of ProductProperty objects.
  * Various refactorings regarding (de)serialization.

 -- Niko Wenselowski <n.wenselowski@uib.de>  Wed, 21 Jun 2017 15:48:26 +0200

python-opsi (4.1.1.6-1) testing; urgency=medium

  * 20_legacy.conf: Various refactorings to make it easier to maintain.
  * 20_legacy.conf: Removed method deleteGroup. Use group_delete instead.
  * 20_legacy.conf: Removed method createServer.
  * 20_legacy.conf: Removed method deleteClient. Use host_delete instead.
  * 20_legacy.conf: Removed method deleteDepot. Use host_delete instead.
  * 20_legacy.conf: Removed method setHostLastSeen.
  * 20_legacy.conf: Removed method deleteProductDependency.
  * 20_legacy.conf: Removed method deleteOpsiBase.
  * 20_legacy.conf: Removed method createOpsiBase.
  * 30_kiosk.conf: Relying on dict comprehensions.
  * Debian packaging: Remove workarounds for Debian 7 and Ubuntu 12.04.
  * Method backend_info will now use the version from OPSI.__version__.
  * Certificates created with OPSI.Util.Task.createCertificate will use
    sha512 instead of sha1.
  * acl.conf.default: Limit access to getData / getRawData to administrative
    users.
  * Remove support for RHEL / CentOS 6.
  * Remove modules for obsolete opsiconfd supervisor.
  * New module OPSI.Util.Task.UpdateBackend.File.
  * OPSI.Util.Task.UpdateBackend: Added check for the used schema version
    of the backend.
  * Removed usage of the file /etc/opsi/version. It is safer to read the
    version from OPSI.__version__.

 -- Niko Wenselowski <n.wenselowski@uib.de>  Tue, 30 May 2017 13:58:35 +0200

python-opsi (4.1.1.5-1) testing; urgency=medium

  * OPSI.Util.objectToBash: refactored function.
  * ConfigDataBackend: log_read and log_write now accept logType 'winpe'.
  * Removed deprecated method backend_getSharedAlgorithm.
  * OPSI.Util.getfqdn: small internal refactoring.
  * OPSI.Service.Session: SessionHandler.getSessions now always returns
    a dict.
  * Refactored configState_getClientToDepotserver to work faster.
  * Improved speed of OPSI.Object.decodeIdent if the hash contains no
    key 'ident'.
  * 10_opsi.conf: Dropped the deprecated 'force' parameter from
    setProductActionRequestWithDependencies.
  * Instead of a plain Exception we now raise more specific exceptions in
    many places.
  * OPSI.Util.File.Opsi.PackageControlFile now supports product properties
    with empty lists as default or possible values. Regenerating a control
    file will not drop that empty lists anymore.
  * The ports used for Wake-on-LAN in the HostControl(Safe) backend can now
    be configured on a per-broadcast-addresse-basis in hostcontrol.conf.
  * Refactorings in OPSI.Util.Message.

 -- Niko Wenselowski <n.wenselowski@uib.de>  Wed, 10 May 2017 14:32:20 +0200

python-opsi (4.1.1.4-1) testing; urgency=medium

  * OPSI.Backend.MySQL: Providing known error codes as constants.
  * OPSI.Backend.MySQL: Refactored MySQL.connect.
  * OPSI.Backend.JSONRPC.JSONRPCBackend: Removed check for working deflate
    that was required because of possibly invalid HTTP headers in old
    OPSI versions.
  * OPSI.System.Posix: no direct import of posix module.

 -- Niko Wenselowski <n.wenselowski@uib.de>  Mon, 24 Apr 2017 14:11:55 +0200

python-opsi (4.1.1.3-1) testing; urgency=medium

  * Small refactorings in SQL backend.
  * Cleaned up OPSI.Util.Repository.
  * 20_legacy.conf: Various cleanups and adaption of code style.
  * The user pcpatch is created with /bin/false as default shell.
  * Builds for debian-based systems do not depend on python-support anymore.
  * acl.conf.default and dispatch.conf.default will be copied instead of
    linked.
  * Implemented __all__ with tuples.
  * JSONRPCBackend: removed methods isLegacyOpsi, isOpsi35 and isOpsi4.
    If you need to know the version of the connected backend call the
    method 'backend_info' instead.
  * Internal refactorings.

 -- Niko Wenselowski <n.wenselowski@uib.de>  Fri, 17 Mar 2017 16:10:09 +0100

python-opsi (4.1.1.2-1) experimental; urgency=medium

  * OPSI.Backend.Backend got new context manager temporaryBackendOptions.
  * Removed various obsolete modules.
  * OPSI.Util.Task.Rights: removed opsi-deploy-client-agent-default and
    opsi-deploy-client-agent-old from the list of known executables.
  * PackageControlFile: no more support for opsi3 compatible packages.
  * Removed support for incremental packages.
  * Minimum required Python version is now 2.7.
  * 70_dynamic_depot.conf: Removed unused getBytes.
  * Removed 30_configed.conf.
  * 20_legacy.conf: Removed various methods only returning a
    NotImplementedError: setNetworkConfigValue, deleteNetworkConfig,
    setPXEBootConfiguration, unsetPXEBootConfiguration,
    softwareInformationToProductInstallationStatus,
    filterHostsByHardwareInformation, generateOpsiHostKey,
    createServerProduct, getServerProductIds_list,
    getUninstalledProductIds_list, getDefaultNetBootProductId,
    deleteProductProperty, deleteProductProperties
  * 20_legacy.conf: getHostId now raises a ValueError if no hostname
    is given.
  * 20_legacy.conf: getOpsiHostKey now raises a ValueError if no hostId
    is given.
  * Remove unused BootConfiguration objects and SQL tables. If the table
    'BOOT_CONFIGURATION' exists updateMySQLBackend will drop that table.
  * BackendDispatchConfigFile.parse will now return a list of tuples.

 -- Niko Wenselowski <n.wenselowski@uib.de>  Fri, 27 Jan 2017 15:42:15 +0100

python-opsi (4.1.1.1-1) experimental; urgency=medium

  * OPSI.Logger, OPSI.Object, OPSI.System.Posix, OPSI.System.Windows,
    OPSI.Util and the modules in OPSI.Backend now provide __all__.
  * JSONRPCBackend: Avoid using "async" as name for a variable because
    this will become a keyword with Python 3.5.
  * ConfigurationData.initializeConfigs now creates entries for
    opsiclientd.event_user_login.active and
    opsiclientd.event_user_login.action_processor_command by default.
  * Removed parts of an old message bus implementation.
  * Replacing the deprecated module 'new' with 'types'.
  * SQLBackend: Filter creation is done through generators.
  * OPSI.Util.objectToBeautifiedText now uses the json module instead of
    a custom implementation.
  * Removed unsupported backends: Cache, Multiplex, LDAP.
  * ThreadPool: removed functions __createWorker & __deleteWorker.
  * Removed unused function OPSI.Util.flattenSequence.
  * OPSI.Backend.Backend implemented the protocol for being used as a
    context manager.
  * setup.py will patch the first version found in debian/changelog
    into OPSI/__init__.py to always show the current version.

 -- Niko Wenselowski <n.wenselowski@uib.de>  Tue, 04 Oct 2016 16:15:11 +0200
